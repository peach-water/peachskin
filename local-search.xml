<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Nä½“é—®é¢˜</title>
    <link href="/peachskin/2021/05/05/N%E4%BD%93%E9%97%AE%E9%A2%98/"/>
    <url>/peachskin/2021/05/05/N%E4%BD%93%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p><center><font size='8'>Nä½“é—®é¢˜æ¨¡æ‹Ÿ</font></center></p><p><center><font size='0'>ä¸²è¡Œå’Œå¹¶è¡Œæ–¹æ¡ˆ</font></center></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ã€€ã€€æ¨¡æ‹Ÿä¸€ä¸ªå¤ªç©ºä¸­æœ‰Nä¸ªæ˜Ÿä½“ï¼Œå„ä¸ªæ˜Ÿä½“æœ‰ä¸‰ä¸ªç»´åº¦çš„é€Ÿåº¦å’Œä½ç½®ï¼Œç›¸äº’ä¹‹é—´å—åˆ°ä¸‡æœ‰å¼•åŠ›å½±å“è¿åŠ¨çš„æ•ˆæœã€‚æ¨¡æ‹Ÿæœ€å°æ—¶é—´åˆ†ä½ç‚¹ä¸º0.005ç§’ï¼Œæœ¬é¢˜ç›®ä¸­ä¸‡æœ‰å¼•åŠ›å¸¸æ•°è®¾å®šä¸º1ï¼Œæ˜Ÿä½“çš„åˆå§‹æ•°æ®åœ¨â€œnbody.txtâ€æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚è¦æ±‚ç”¨å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹åˆ†åˆ«å®Œæˆä¸€ä»½ï¼Œå°†è¿­ä»£20æ¬¡åçš„æ•°æ®è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”æ¯”è¾ƒä¸²è¡Œç¨‹åºå’Œå¤šçº¿ç¨‹ä¹‹é—´çš„è®¡ç®—ç»“æœå·®å¼‚ã€‚<a href="https://easyhpc.net/course/106">è¶…ç®—ä¹ å ‚æœŸä¸­æµ‹éªŒ</a>ã€‚</p><h1 id="å®ç°æ–¹æ¡ˆ"><a href="#å®ç°æ–¹æ¡ˆ" class="headerlink" title="å®ç°æ–¹æ¡ˆ"></a>å®ç°æ–¹æ¡ˆ</h1><p>ã€€ã€€æ¨¡æ‹Ÿæ–¹æ¡ˆæ¶‰åŠå¤§é‡è®¡ç®—ï¼Œå¯¹äºç®—æ³•çš„è€ƒå¯Ÿè¾ƒå°ï¼Œä¸»è¦æ˜¯å¯¹æ•°æ®ç»“æ„å’Œè®¡ç®—æ–¹å¼è®¾è®¡è€ƒéªŒï¼Œä»¥åŠå¯¹ä¸å¤šçº¿ç¨‹openmpå’Œpthreadçš„è¿ç”¨ã€‚</p><h2 id="è¾“å…¥æ•°æ®"><a href="#è¾“å…¥æ•°æ®" class="headerlink" title="è¾“å…¥æ•°æ®"></a>è¾“å…¥æ•°æ®</h2><p>ã€€ã€€ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬1024ä¸ªæ˜Ÿä½“çš„7é¡¹æ•°æ®ï¼Œä¸€è¡Œä¸ºä¸€ä¸ªæ˜Ÿä½“ï¼Œåˆ†åˆ«æ˜¯æ˜Ÿä½“è´¨é‡ï¼Œæ˜Ÿä½“åœ¨xã€yã€zä¸Šçš„ä½ç½®ï¼Œæ˜Ÿä½“åœ¨xã€yã€zä¸Šçš„é€Ÿåº¦ã€‚</p><ul><li>å®éªŒç¯å¢ƒï¼šubuntu20.04ï¼ˆHype-Vï¼‰</li><li>ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼šg++ 9.3.0<h2 id="æ˜Ÿä½“æ•°æ®å­˜å‚¨"><a href="#æ˜Ÿä½“æ•°æ®å­˜å‚¨" class="headerlink" title="æ˜Ÿä½“æ•°æ®å­˜å‚¨"></a>æ˜Ÿä½“æ•°æ®å­˜å‚¨</h2>ã€€ã€€å¯¹äºä¸€ä¸ªæ˜Ÿä½“éœ€è¦å­˜æ”¾çš„æ•°æ®æœ‰å¦‚ä¸‹ï¼Œä¸»è¦æ˜¯xã€yã€zç©ºé—´ä½ç½®ï¼Œsxã€syã€szé€Ÿåº¦å’Œmassæ˜Ÿä½“è´¨é‡ï¼Œè¿˜æœ‰è®¡ç®—æ—¶ä¸€äº›ä¸´æ—¶å˜é‡ï¼Œå¦‚è®¡ç®—1å·æ˜Ÿä½“å’Œå…¶ä»–æ˜Ÿä½“ç›¸äº’ä½œç”¨åŠ›æ€»å’Œçš„å˜é‡ï¼Œå¼•å…¥è¿™ä¸ªå˜é‡è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼Œå¯ä»¥å‡å°‘è¯¯å·®ï¼ˆä¸»è¦æ˜¯æŒ‡é™¤æ³•çš„è¯¯å·®ç´¯ç§¯ï¼‰ã€‚æ˜Ÿä½“ç»“æ„ä½“æ•°æ®å¦‚ä¸‹ï¼š<pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">planet</span> // æ˜Ÿä½“ç»“æ„ä½“</span><span class="hljs-class">&#123;</span><span class="hljs-keyword">double</span> mass;<span class="hljs-comment">// bodyè´¨é‡</span><span class="hljs-keyword">double</span> sx, sy, sz;<span class="hljs-comment">// bodyä¸‰ç»´æ–¹å‘ä¸Šçš„é€Ÿåº¦</span><span class="hljs-keyword">double</span> x, y, z;<span class="hljs-comment">// bodyä¸‰ç»´æ–¹å‘ä¸Šçš„ä½ç½®</span><span class="hljs-keyword">double</span> fx, fy, fz;<span class="hljs-comment">// bodyä¸‰ç»´æ–¹å‘ä¸Šæ”¶åˆ°çš„åŠ›çš„æ€»å’Œ</span>planet()&#123;mass = sx = sy = sz = x = y = z = <span class="hljs-number">0</span>;fx = fy = fz = <span class="hljs-number">0</span>;&#125;<span class="hljs-keyword">void</span> <span class="hljs-keyword">operator</span>=(planet &amp;other)&#123;mass = other.mass;sx = other.sx;sy = other.sy;sz = other.sz;x = other.x;y = other.y;z = other.z;&#125;&#125;;</code></pre><h2 id="è®¡ç®—åˆåŠ›"><a href="#è®¡ç®—åˆåŠ›" class="headerlink" title="è®¡ç®—åˆåŠ›"></a>è®¡ç®—åˆåŠ›</h2>ã€€ã€€è®¡ç®—ä¸€ä¸ªæ˜Ÿä½“æ”¶åˆ°å…¶ä»–æ˜Ÿä½“åŠ›çš„æ€»å’Œï¼Œæ— éä¸¤ä¸¤ä¹‹é—´è®¡ç®—åŠ›ç„¶åæ›´æ–°ã€‚ä¾‹å¦‚1å·æ˜Ÿä½“å’Œ2å·æ˜Ÿä½“ã€1å·å’Œ3å·ã€1å·å’Œ4å·â€¦â€¦1å·å’Œ1024å·ï¼Œ2å·å’Œ3å·ã€2å·å’Œ4å·â€¦â€¦ç­‰ç­‰ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œå¹¶ä¸éœ€è¦æ±‚2å·å’Œ1å·ï¼Œå› ä¸ºåœ¨è®¡ç®—1å·å’Œ2å·æ—¶å·²ç»è®¡ç®—äº†åŠ›å¤§å°ï¼Œåªéœ€è¦å–åï¼‰ï¼Œå› ä¸ºè¿™ä¸ªæ¨¡å—ä¹Ÿä¼šåœ¨åæ¥çš„å¤šçº¿ç¨‹ä¸­è¢«è°ƒç”¨ï¼Œå› æ­¤æŠ½è±¡æˆä¸ºä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚ä¸ºäº†å‡å°è¯¯å·®ï¼Œå°†æ¯æ¬¡è®¡ç®—çš„åŠ›å­˜æ”¾åˆ°ä¸´æ—¶å˜é‡ä¸­ï¼Œå¹¶ä¸”åœ¨æ›´æ–°å®Œæ‰€æœ‰çš„åˆåŠ›ä¹‹åï¼Œæ›´æ–°æ˜Ÿä½“çš„é€Ÿåº¦å’Œä½ç½®ã€‚<pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">speed_change</span><span class="hljs-params">(planet &amp;a, planet &amp;b)</span></span>&#123;...&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">series_stimulus</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> count, planet *<span class="hljs-built_in">array</span>)</span><span class="hljs-comment">// å•çº¿ç¨‹æ¨¡å—ï¼Œcountè¡¨ç¤ºè¿­ä»£å¤šå°‘æ¬¡ï¼Œarrayæ˜¯è®¡ç®—ä½¿ç”¨çš„å…ƒæ•°æ®ã€‚</span></span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">while</span> (count--)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; max_size; j++)&#123;speed_change(<span class="hljs-built_in">array</span>[i], <span class="hljs-built_in">array</span>[j]);&#125;&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;postion(<span class="hljs-built_in">array</span>[i]);&#125;&#125;&#125;</code></pre><h2 id="å¤šçº¿ç¨‹ï¼Ÿï¼"><a href="#å¤šçº¿ç¨‹ï¼Ÿï¼" class="headerlink" title="å¤šçº¿ç¨‹ï¼Ÿï¼"></a>å¤šçº¿ç¨‹ï¼Ÿï¼</h2><h3 id="openmp"><a href="#openmp" class="headerlink" title="openmp"></a>openmp</h3>ã€€ã€€æœ‰äº†ä¸Šé¢å•çº¿ç¨‹çš„è®¡ç®—æ–¹æ³•ï¼Œå¤šçº¿ç¨‹å°±æ˜¯æŠŠå•çº¿ç¨‹çš„forï¼Œwhileç­‰å¾ªç¯ä½“å¹¶è¡ŒåŒ–è€Œå·²ï¼Œopenmpï¼ï¼ï¼ç®€ç›´æ²¡æœ‰æ¯”è¿™ä¸ªæ›´åŠ å¿«æ·çš„æ–¹æ³•ã€‚é€ä¸ªè®²è§£pragma omp parallelå¸¦çš„å‚æ•°ã€‚</li><li>for : è¡¨æ˜å¹¶è¡ŒåŒ–å¾ªç¯</li><li>num_threads(n) : å¹¶è¡Œçº¿ç¨‹æ•°é‡ï¼Œnå¯ä»¥æ˜¯ä»»æ„æ•´æ•°ï¼Œå…¶å®è¿˜æ˜¯çœ‹é…ç½®</li><li>private(a,b,â€¦,z) : è¡¨æ˜å“ªäº›å˜é‡æ˜¯ç§æœ‰å˜é‡ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°</li><li>shared(a,b,â€¦,z) : è¡¨æ˜å“ªäº›å˜é‡æ˜¯å…¬æœ‰å˜é‡ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œä¾‹å¦‚æœ¬é¢˜ä¸­æ˜Ÿä½“æ•°æ®å°±æ˜¯å…±äº«çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´æ–°</li></ul><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">parallel_stimulus1</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> count, planet *<span class="hljs-built_in">array</span>)</span><span class="hljs-comment">// openmpéªæƒ°î”‘ç»‹å¬ªç°­</span></span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">int</span> i, j;<span class="hljs-keyword">while</span> (count--)&#123;<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for num_threads(4) private(i, j) shared(array)</span><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;<span class="hljs-keyword">for</span> (j = i + <span class="hljs-number">1</span>; j &lt; max_size; j++)&#123;speed_change(<span class="hljs-built_in">array</span>[i], <span class="hljs-built_in">array</span>[j]);&#125;&#125;<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;postion(<span class="hljs-built_in">array</span>[i]);&#125;&#125;&#125;</code></pre><p>ã€€ã€€å½“ç„¶ç¼–è¯‘å¸¦æœ‰openmpçš„cppæ–‡ä»¶éœ€è¦åœ¨ç¼–è¯‘æŒ‡ä»¤åŠ å…¥ -fopenmp çš„å‚æ•°ï¼Œæ¯”å¦‚è¯´ä½ çš„æ–‡ä»¶å«åšâ€œa.cppâ€é‚£ä¹ˆç¼–è¯‘å‚æ•°å°±æ˜¯<br><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> g++ a.cpp -o a.out -fopenmp</span></code></pre></p><h3 id="pthread"><a href="#pthread" class="headerlink" title="pthread"></a>pthread</h3><p>ã€€ã€€å¦‚æœè¯´ä¸Šé¢çš„openmpæ˜¯è‡ªåŠ¨å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆpthreadå°±æ˜¯æ‰‹åŠ¨å¤šçº¿ç¨‹ã€‚ä½¿ç”¨pthreadåˆ›å»ºæ–°çº¿ç¨‹ä¹‹å‰å¿…é¡»è¦ä¸ºæ–°çº¿ç¨‹åˆ†é…ç©ºé—´ï¼Œthread_handleå°±æ˜¯è¿™æ ·ä¸€ä¸ªå®¹çº³æ–°çº¿ç¨‹çš„å®¹å™¨ï¼Œç„¶åä½¿ç”¨newä¸ºå®ƒåˆ†é…ç©ºé—´ï¼ˆè¿™é‡Œå› ä¸ºç¬”è€…ç¬”è®°æœ¬åªæœ‰4ä¸ªæ ¸å¿ƒï¼Œå› æ­¤åªåˆ›å»º4çº¿ç¨‹ï¼‰ã€‚æœ‰äº†å®¹å™¨ä¹‹åè¦è£…ä¸œè¥¿ï¼Œä¸ç„¶ä¸€ä¸ªç©ºçš„çº¿ç¨‹å®¹å™¨æœ‰ä»€ä¹ˆç”¨å‘¢ã€‚è°ƒç”¨pthread_createå‡½æ•°åˆ›å»ºæ–°çº¿ç¨‹ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®¹å™¨ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸Œæœ›æŠŠè¿™ä¸ªæ–°çº¿ç¨‹æ”¾åœ¨å®¹å™¨å“ªä¸ªä½ç½®ï¼‰</li><li>ç¬¬äºŒä¸ªå‚æ•°åœ¨è¿™é‡Œæ²¡æœ‰ç”¨æŒ‡å®šä¸ºNULL</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆï¼ˆå³å¸Œæœ›åœ¨è¿™ä¸ªå®¹å™¨å†…è¿è¡Œä»€ä¹ˆï¼‰ï¼Œå¿…é¡»æ˜¯void*ç±»å‹</li><li>ç¬¬å››ä¸ªå‚æ•°æ˜¯ç»™å‡½æ•°ä½¿ç”¨çš„å‚æ•°ï¼ˆè¿™ä¸ªå®¹å™¨å†…çš„å‡½æ•°æ€»ä¸å¯èƒ½å®Œæˆæ— ç±³ä¹‹ç‚Šå§ï¼Œæ‰€ä»¥ç±³åœ¨å“ªé‡Œåœ¨è¿™ä¸ªä½ç½®å‘Šè¯‰å®ƒï¼‰</li></ul><p>ã€€ã€€pthreadä¸ä¼šå¸®æˆ‘ä»¬å®ç°çº¿ç¨‹åŒæ­¥ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®ç°çº¿ç¨‹åŒæ­¥ã€‚è¿™é‡Œä½¿ç”¨pthread_joinå‡½æ•°ï¼Œå°†ä¹‹å‰åˆ›å»ºçš„å¤šä¸ªçº¿ç¨‹åˆå¹¶ï¼Œç„¶åç»Ÿä¸€æ›´æ–°æ˜Ÿä½“çš„é€Ÿåº¦å’Œä½ç½®ã€‚<br><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">parallel_stimulus2</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> count, planet *<span class="hljs-built_in">array</span>)</span><span class="hljs-comment">// pthreadä¸»çº¿ç¨‹å‡½æ•°</span></span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">int</span> num_of_thread = <span class="hljs-number">4</span>;thread_set *<span class="hljs-built_in">set</span> = <span class="hljs-keyword">new</span> thread_set[num_of_thread];<span class="hljs-keyword">pthread_t</span> *thread_handle = <span class="hljs-keyword">new</span> <span class="hljs-keyword">pthread_t</span>[num_of_thread];<span class="hljs-keyword">while</span> (count--)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">long</span> i = <span class="hljs-number">0</span>; i &lt; num_of_thread; i++)&#123;<span class="hljs-built_in">set</span>[i].rank = i;<span class="hljs-built_in">set</span>[i].o = <span class="hljs-built_in">array</span>;pthread_create(&amp;thread_handle[i], <span class="hljs-literal">nullptr</span>, thread_pthread, (<span class="hljs-keyword">void</span> *)&amp;<span class="hljs-built_in">set</span>[i]);&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">long</span> i = num_of_thread<span class="hljs-number">-1</span>; i &gt;= <span class="hljs-number">0</span>; i--)&#123;pthread_join(thread_handle[i], <span class="hljs-literal">nullptr</span>);&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;postion(<span class="hljs-built_in">array</span>[i]);&#125;&#125;<span class="hljs-keyword">delete</span>[] thread_handle;<span class="hljs-keyword">delete</span>[] <span class="hljs-built_in">set</span>;<span class="hljs-keyword">return</span>;&#125;</code></pre><br>ã€€ã€€ç„¶åæ˜¯å®¹å™¨å†…å®¹ç‰©è¦æ€ä¹ˆåŠï¼Œå› ä¸ºè¦æ‰‹åŠ¨å¹¶è¡ŒåŒ–ï¼Œæ‰€ä»¥è¿™ä¸ªçº¿ç¨‹åšä»€ä¹ˆä¹Ÿéœ€è¦è‡ªå·±è®¡ç®—ã€‚æœ¬å¤„ä¸¾ä¸ªğŸŒ°æ˜¯4çº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è®¡ç®—1024ä¸ªæ˜Ÿä½“çš„å››åˆ†ä¹‹ä¸€ã€‚ä¸ºäº†ä¼ é€’å‚æ•°æ–¹ä¾¿ï¼Œä½¿ç”¨ç»“æ„ä½“thread_setï¼Œå…¶ä¸€æ˜¯æ–¹ä¾¿ã€å…¶äºŒæ˜¯å› ä¸ºpthread_createç¬¬å››ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆè€Œä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆçš„æŒ‡é’ˆï¼‰ï¼Œä¸èƒ½ä¼ é€’å¤šä¸ªå‚æ•°<br><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">thread_set</span> // <span class="hljs-title">pthread</span>å‚æ•°è¡¨</span><span class="hljs-class">&#123;</span><span class="hljs-keyword">int</span> rank;<span class="hljs-comment">// æŒ‡å®šçš„çº¿ç¨‹å·</span>planet *o;<span class="hljs-comment">// è®¡ç®—çš„å…ƒæ•°æ®</span>&#125;;<span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">thread_pthread</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *argv)</span><span class="hljs-comment">// pthreadå­çº¿ç¨‹å‡½æ•°</span></span><span class="hljs-function"></span>&#123;thread_set <span class="hljs-built_in">set</span> = *(thread_set *)argv;<span class="hljs-keyword">long</span> rank = <span class="hljs-built_in">set</span>.rank;<span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>;<span class="hljs-keyword">if</span> (rank == <span class="hljs-number">3</span>)&#123;n = max_size - <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">else</span>&#123;n = (rank + <span class="hljs-number">1</span>) * max_size / <span class="hljs-number">4</span>;&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = rank * max_size / <span class="hljs-number">4</span>; i &lt; n; i++)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= max_size; j++)&#123;speed_change(<span class="hljs-built_in">set</span>.o[i], <span class="hljs-built_in">set</span>.o[j]);&#125;&#125;<span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;&#125;</code></pre><br>ã€€ã€€ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨pthreadï¼Œéœ€è¦åœ¨ç¼–è¯‘å‚æ•°ä¸Šå¢åŠ â€œ-lpthreadâ€æ˜¯â€œlâ€ä¸æ˜¯â€œiâ€ã€‚ğŸŒ°åŒä¸Šã€‚<br><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> g++ a.cpp -o a.out -lpthread</span></code></pre></p><h1 id="æ–‡ä»¶æµ"><a href="#æ–‡ä»¶æµ" class="headerlink" title="æ–‡ä»¶æµ"></a>æ–‡ä»¶æµ</h1><p>ã€€ã€€ä¸Šé¢è¯´äº†ï¼Œéœ€è¦ä»æ–‡ä»¶ä¸­è¯»å…¥è®¡ç®—æ•°æ®ï¼Œç„¶åå°†è¿­ä»£ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ã€‚æ­¤å¤„æ¯”è¾ƒæ¨èçš„æ˜¯ofstreamå¤´æ–‡ä»¶æä¾›çš„æ–‡ä»¶æµåŠŸèƒ½ã€‚èƒ½å¤Ÿåƒcoutã€cinä¸€æ ·ä½¿ç”¨ã€‚</p><h2 id="æ–‡ä»¶è¯»å…¥"><a href="#æ–‡ä»¶è¯»å…¥" class="headerlink" title="æ–‡ä»¶è¯»å…¥"></a>æ–‡ä»¶è¯»å…¥</h2><p>ã€€ã€€ä½¿ç”¨å‰å»ºç«‹ä¸€ä¸ªfstreamæ–‡ä»¶æµæŒ‡é’ˆï¼Œè°ƒç”¨openæ–¹æ³•æ‰“å¼€éœ€è¦è¯»å…¥çš„æ–‡ä»¶ã€‚<br><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;fstream&gt;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">read</span><span class="hljs-params">(planet *<span class="hljs-built_in">array</span>)</span></span><span class="hljs-function"></span>&#123;fstream fp;fp.open(<span class="hljs-string">&quot;nbody.txt&quot;</span>, ios::in);<span class="hljs-keyword">if</span> (fp.bad())<span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>&#123;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;error to open file&quot;</span>;&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;fp &gt;&gt; <span class="hljs-built_in">array</span>[i].mass &gt;&gt; <span class="hljs-built_in">array</span>[i].x &gt;&gt; <span class="hljs-built_in">array</span>[i].y &gt;&gt; <span class="hljs-built_in">array</span>[i].z &gt;&gt; <span class="hljs-built_in">array</span>[i].sx &gt;&gt; <span class="hljs-built_in">array</span>[i].sy &gt;&gt; <span class="hljs-built_in">array</span>[i].sz;&#125;fp.close();<span class="hljs-comment">// è¯»å†™ç»“æŸåå…³é—­æ–‡ä»¶</span>&#125;</code></pre></p><h2 id="æ–‡ä»¶å†™å…¥"><a href="#æ–‡ä»¶å†™å…¥" class="headerlink" title="æ–‡ä»¶å†™å…¥"></a>æ–‡ä»¶å†™å…¥</h2><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">write</span><span class="hljs-params">(planet *<span class="hljs-built_in">array</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *file)</span></span><span class="hljs-function"></span>&#123;fstream fp;fp.open(file, ios::out);<span class="hljs-keyword">if</span> (fp.bad())&#123;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;output open error&quot;</span>;&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; max_size; i++)&#123;fp &lt;&lt; setprecision(<span class="hljs-number">15</span>) &lt;&lt; setiosflags(ios::left) &lt;&lt; <span class="hljs-built_in">array</span>[i].mass &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; <span class="hljs-built_in">array</span>[i].x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>   &lt;&lt; <span class="hljs-built_in">array</span>[i].y &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-built_in">array</span>[i].z &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>   &lt;&lt; <span class="hljs-built_in">array</span>[i].sx &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-built_in">array</span>[i].sy &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-built_in">array</span>[i].sz &lt;&lt; <span class="hljs-built_in">endl</span>;&#125;fp.close();&#125;</code></pre><h1 id="ä¸€ä¸ªç®€çŸ­çš„main"><a href="#ä¸€ä¸ªç®€çŸ­çš„main" class="headerlink" title="ä¸€ä¸ªç®€çŸ­çš„main"></a>ä¸€ä¸ªç®€çŸ­çš„main</h1><p>ã€€ã€€å…¶å®mainä¹Ÿåšä¸äº†ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨ä¸Šé¢å†™å¥½çš„å‡½æ•°ï¼ŒåŠ ä¸Šä¸€ä¸ªè®¡æ—¶å™¨<br><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">double</span> start, end;planet <span class="hljs-built_in">array</span>[max_size + <span class="hljs-number">16</span>];planet copy_planet[max_size + <span class="hljs-number">16</span>];read(<span class="hljs-built_in">array</span>);<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> count = <span class="hljs-number">20</span>; <span class="hljs-comment">//è¿­ä»£20æ¬¡</span><span class="hljs-keyword">char</span> series[] = <span class="hljs-string">&quot;series version.txt&quot;</span>, parallel1[] = <span class="hljs-string">&quot;parallel version1.txt&quot;</span>, parallel2[] = <span class="hljs-string">&quot;parallel version2.txt&quot;</span>;<span class="hljs-comment">// è¾“å‡ºæ–‡ä»¶å</span><span class="hljs-built_in">memcpy</span>(copy_planet, <span class="hljs-built_in">array</span>, max_size * <span class="hljs-keyword">sizeof</span>(planet)); <span class="hljs-comment">// ä¸²è¡Œç¨‹åº</span>GET_TIME(start);series_stimulus(count, copy_planet);GET_TIME(end)<span class="hljs-built_in">cout</span> &lt;&lt; (<span class="hljs-keyword">double</span>)(end - start) &lt;&lt; <span class="hljs-built_in">endl</span>;<span class="hljs-comment">// è¦å†™å‡ºå¦‚æ–‡ä»¶è¯·å»æ‰æœ¬è¡Œæ³¨é‡Šï¼Œä¸‹é¢åŒç†</span><span class="hljs-comment">// write(copy_planet, series);</span><span class="hljs-built_in">memcpy</span>(copy_planet, <span class="hljs-built_in">array</span>, max_size * <span class="hljs-keyword">sizeof</span>(planet)); <span class="hljs-comment">// openmpç¨‹åº</span>GET_TIME(start);parallel_stimulus1(count, copy_planet);GET_TIME(end)<span class="hljs-built_in">cout</span> &lt;&lt; (<span class="hljs-keyword">double</span>)(end - start) &lt;&lt; <span class="hljs-built_in">endl</span>;<span class="hljs-comment">// write(copy_planet, parallel1);</span><span class="hljs-built_in">memcpy</span>(copy_planet, <span class="hljs-built_in">array</span>, max_size * <span class="hljs-keyword">sizeof</span>(planet)); <span class="hljs-comment">// pthreadç¨‹åº</span>GET_TIME(start);parallel_stimulus2(count, copy_planet);GET_TIME(end)<span class="hljs-built_in">cout</span> &lt;&lt; (<span class="hljs-keyword">double</span>)(end - start) / CLOCKS_PER_SEC &lt;&lt; <span class="hljs-built_in">endl</span>;<span class="hljs-comment">// write(copy_planet, parallel2);</span>&#125;</code></pre></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ã€€ã€€æ€»ä½“æ¥è¯´ï¼Œæœ¬æ¬¡ä½œä¸šè¿˜æ˜¯è¾ƒä¸ºç®€å•çš„ã€‚æœ¬åšå®¢å¹¶æ²¡æœ‰æ”¾å‡ºspeed_change()å‡½æ•°æºç ï¼Œå› ä¸ºåœ¨å®ç°è¿‡ç¨‹ä¸­å‘ç°å’Œæä¾›çš„æ ‡å‡†ç­”æ¡ˆçš„æ–¹å‘å®Œå…¨ç›¸åã€‚å’Œé¢„è®¡å†™æ³•ä¸åŒã€‚åŒæ ·çš„è¿˜æœ‰position()æºç ï¼Œè¿™ä¸ªå‡½æ•°ååˆ†ç®€å•ï¼Œå°±æ˜¯æ ¹æ®å½“å‰é€Ÿåº¦æ›´æ–°ä½ç½®ï¼Œå½“å‰å—åŠ›æƒ…å†µæ›´æ–°é€Ÿåº¦ï¼Œæœ¬å¤„ä¸å†æä¾›ã€‚å®Œæ•´å®ç°ä»£ç å¯ä»¥ä»è¿™é‡Œ<a href="https://github.com/peach-water/nbody_problem">è·å¾—</a></p>]]></content>
    
    
    <categories>
      
      <category>SYSU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¶…çº§è®¡ç®—æœºåŸç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>make laughing</title>
    <link href="/peachskin/2021/04/11/make-laughing/"/>
    <url>/peachskin/2021/04/11/make-laughing/</url>
    
    <content type="html"><![CDATA[<center><font size='8'>è®°å½•ä¸€äº›ç¬‘è¯</font></center><center><font size='0'>è€CSæ‘¸äººäº†</font></center><h1 id="å“ˆï¼Œé¸½å­"><a href="#å“ˆï¼Œé¸½å­" class="headerlink" title="å“ˆï¼Œé¸½å­"></a>å“ˆï¼Œé¸½å­</h1><p>ã€€ã€€æœ€å¼€å§‹çš„å›¾<br><img src="http://img.yuko.buzz/images/2021/04/11/1618153061860.png" alt="1618153061860.png"></p><h2 id="èŠœæ¹–ã€èµ·é£"><a href="#èŠœæ¹–ã€èµ·é£" class="headerlink" title="èŠœæ¹–ã€èµ·é£"></a>èŠœæ¹–ã€èµ·é£</h2><p>ã€€ã€€å½“ä½ ä¹±å†™çš„ç¨‹åºå®ƒå´ç¢°å·§å®Œæˆäº†ä»»åŠ¡ã€‚æ¥è‡ªBilibiliã€‚æ°å¥½è¶ç€è¿™ä¸ªæœºä¼šï¼ŒæŠŠä¹‹å‰é›¶é›¶æ•£æ•£çš„ç¬‘è¯éƒ½æ•´ç†ä¸€ä¸‹ã€‚</p><p>ã€€ã€€é¦–å…ˆæ˜¯è¿™ä¸ªè§†é¢‘ï¼š</p><center><iframe src="//player.bilibili.com/player.html?aid=757297242&bvid=BV1w64y1Q7sk&cid=315369624&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height='480' width='640'> </iframe></center><h2 id="ä¸€ä¸ªæ®µå­"><a href="#ä¸€ä¸ªæ®µå­" class="headerlink" title="ä¸€ä¸ªæ®µå­"></a>ä¸€ä¸ªæ®µå­</h2><p>ã€€ã€€è™½ç„¶ä¸çŸ¥é“è¿™åªé¸Ÿä¸ºä»€ä¹ˆå¯ä»¥ç”¨å¤´é£èµ·æ¥ï¼Œä½†æ˜¯æ€»å½’æ˜¯å®ç°äº†åŠŸèƒ½ã€‚<br>ã€€ã€€ç­‰ç­‰ã€æ—¢ç„¶æ˜¯ç”¨å¤´é£çš„ï¼Œé‚£å»æ‰ç¿…è†€åº”è¯¥æ²¡äº‹ã€‚<br>ã€€ã€€å‡­ä»€ä¹ˆå»æ‰ç¿…è†€å°±ä¸èƒ½é£äº†ï¼Ÿä½ TMä¸æ˜¯ç”¨å¤´é£çš„ï¼<br>ã€€ã€€å‡­ä»€ä¹ˆæŠŠç¿…è†€åŸå°ä¸åŠ¨çš„æ”¾å›å»åˆä¸èƒ½é£äº†ï¼Ÿæˆ‘ä¸æ˜¯å•¥ä¹Ÿæ²¡å¹²å•Šï¼Ÿ<br>ã€€ã€€è‰¹ï¼ä¸ºä»€ä¹ˆè¿™åªé¸Ÿä¼šç”¨è„šé£è¡Œï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿæˆ‘æŠŠè„šå»æ‰è¯•è¯•ã€‚<br>ã€€ã€€ç»äº†ï¼Œè¿™é¸Ÿåˆèƒ½é£äº†ï¼ï¼è€Œä¸”æ­£å¸¸çš„ç”¨ç¿…è†€é£è¡Œï¼Œè™½ç„¶æ²¡æœ‰è„šä¸èƒ½ç€é™†ã€‚<br>ã€€ã€€ç­‰ç­‰ï¼Œæˆ‘ä¸Šæ¬¡å¥½åƒåšäº†ä¸€åªé¹°æ¥ç€ï¼ŒæŠŠé‚£ä¸ªè„šå¤åˆ¶è¿‡æ¥çœ‹çœ‹ï¼<br>ã€€ã€€<br>ã€€ã€€å®Œç¾ï¼Œç°åœ¨è¿™åªé¸½å­åˆå®Œç¾çš„é£è¡ŒåŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸çš„ç€é™†ï¼Œè™½ç„¶è„šæ˜¯ç”¨é¹°çš„è„šå‡‘åˆçš„ï¼Œä½†æ˜¯æ²¡é—®é¢˜ï¼èƒ½ç”¨ï¼æˆ‘å®£å¸ƒï¼è¿™ä¸ªé¡¹ç›®å®Œå·¥ã€‚â™¥</p><h2 id="åˆæ˜¯ä¸€ä¸ªæ®µå­"><a href="#åˆæ˜¯ä¸€ä¸ªæ®µå­" class="headerlink" title="åˆæ˜¯ä¸€ä¸ªæ®µå­"></a>åˆæ˜¯ä¸€ä¸ªæ®µå­</h2><p>ã€€ã€€æ˜¯é¸½å­å—ï¼Ÿ<br>ã€€ã€€æ˜¯ï¼<br>ã€€ã€€èƒ½é£å—ï¼Ÿ<br>ã€€ã€€å¯ä»¥ï¼<br>ã€€ã€€é‚£ä¸å°±å®Œäº†ğŸ˜€</p><h2 id="ä¸€ä¸ªç”ŸåŠ¨å½¢è±¡çš„æ®µå­"><a href="#ä¸€ä¸ªç”ŸåŠ¨å½¢è±¡çš„æ®µå­" class="headerlink" title="ä¸€ä¸ªç”ŸåŠ¨å½¢è±¡çš„æ®µå­"></a>ä¸€ä¸ªç”ŸåŠ¨å½¢è±¡çš„æ®µå­</h2><p>ã€€ã€€å¥½æ¯”ä½ ä½¿ç”¨å­—å…¸å«æ¡Œè§’ï¼Œä½ èµ°åä¸‹æ¥ä¸€ä¸ªäººå‘ç°è¿™ä¸ªæ¡Œå­éœ€è¦ä½¿ç”¨å­—å…¸ï¼Œä½†æ˜¯æ¡Œå­å¹¶æ²¡æœ‰æ–‡å­—äº¤äº’åŠŸèƒ½ï¼Œè€Œä¸”æ¡Œå­æ˜¯ä¸éœ€è¦æ–‡å­—æŸ¥è¯¢çš„ã€‚äºæ˜¯ä»–æŠŠå­—å…¸ä¸€æŠ½ï¼Œæ¡Œå­ç¿»äº†ï¼Œèœæ’’äº†ä¸€åœ°ã€‚ä½†æ˜¯ä»–æ°¸è¿œæä¸æ‡‚ä¸ºä»€ä¹ˆæ¡Œå­è¦æŸ¥å­—å…¸ã€‚ğŸ˜€<br>ã€€ã€€ç„¶åä»–ä¿®ç†äº†ä¸€æ•´å¤©çš„BUGï¼Œç ”ç©¶æ¡Œå­ä¸Šçš„é¥­èœæ‘†æ”¾ä½ç½®å¯¹äºæ¡Œå­ç¿»å€’çš„å½±å“ï¼Œæœ€åå‘ç°ï¼Œåªéœ€è¦æŠŠä¸€ç›˜èœå«åœ¨æ¡Œè§’å°±å¯ä»¥äº†ï¼Œç„¶åæ½‡æ´’ç¦»å»ã€‚å‘Šè¯‰åˆ«äººä»Šå¤©ä»–ä¿®äº†ä¸€ä¸ªå¤§BUGã€‚åæ¥åˆæ¥äº†ä¸€ä¸ªäººæ£€æŸ¥è¿™å¼ æ¡Œå­ï¼Œä»–è®¤ä¸ºè¿™å¼ æ¡Œå­ä¸éœ€è¦åƒèœï¼Œäºæ˜¯æŠŠç›˜å­æŠ½äº†å‡ºæ¥â€¦â€¦æŠŠå­—å…¸å¡äº†å›å»ã€‚</p><h2 id="è®²é“ç†"><a href="#è®²é“ç†" class="headerlink" title="è®²é“ç†"></a>è®²é“ç†</h2><p>ã€€ã€€å¦‚æœä½ çš„é¸½å­è¿™æ ·å­é£æˆåŠŸäº†ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æ¥ä¸‹æ¥çš„åŠä¸ªç­éƒ½ä¼šè¿™ä¹ˆé£ï¼Œç„¶åç”Ÿå‡ºä¸€äº›å››æ¡è…¿ï¼Œä¸‰åªç¿…è†€çš„å¥‡æ€ªå„è‡ªğŸ˜€ï¼Œå¦å¤–åŠä¸ªç­çº§å¯èƒ½é€ ä¸å‡ºé¸½å­ã€‚</p><h1 id="ä¸€ä¸ªé…’å§çš„æ•…äº‹"><a href="#ä¸€ä¸ªé…’å§çš„æ•…äº‹" class="headerlink" title="ä¸€ä¸ªé…’å§çš„æ•…äº‹"></a>ä¸€ä¸ªé…’å§çš„æ•…äº‹</h1><p>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯å•¤é…’ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯å’–å•¡ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†0.7æ¯å•¤é…’ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†-1æ¯å•¤é…’ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†2^32æ¯å•¤é…’ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯æ´—è„šæ°´ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯èœ¥èœ´ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€ä»½asdfQwer@24å¤šä¸ªï¼&amp;ï¼ˆ@ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œä»€ä¹ˆä¹Ÿæ²¡è¦ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œåˆèµ°å‡ºå»åˆä»çª—æˆ·è¿›æ¥åˆä»åé—¨å‡ºå»åˆä»ä¸‹æ°´é“è¿›æ¥ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œåˆèµ°å‡ºå»åˆèµ°è¿›æ¥åˆå‡ºå»åˆè¿›æ¥åˆå‡ºå»ï¼Œæœ€ååœ¨å¤–é¢æŠŠè€æ¿æ‰“äº†ä¸€é¡¿ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯çƒ«çƒ«çƒ«çš„é”Ÿæ–¤æ‹·ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†NaNæ¯Nullã€‚<br>ã€€ã€€ä¸€ï¼´æµ‹è¯•å·¥ç¨‹å¸ˆå†²è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†500Tå•¤é…’å’–å•¡æ´—è„šæ°´é‡çŒ«ç‹¼ç‰™æ£’å¥¶èŒ¶ã€‚<br>ã€€ã€€ä¸€ï¼´æµ‹è¯•å·¥ç¨‹å¸ˆæŠŠé…’å§æ‹†äº†ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆæ¢è£…æˆè€æ¿ï¼Œè¦äº†500æ¯å•¤é…’å¹¶ä¸”ä¸ä»˜é’±ã€‚<br>ã€€ã€€ä¸€ä¸‡ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆåœ¨é…’å§é—¨å‰å‘¼å•¸è€Œè¿‡ã€‚<br>ã€€ã€€ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹å¸ˆèµ°è¿›ä¸€å®¶é…’å§ï¼Œè¦äº†ä¸€æ¯å•¤é…’â€˜ï¼›DROP TABLEé…’å§ã€‚<br>ã€€ã€€æµ‹è¯•å·¥ç¨‹å¸ˆä»¬æ»¡æ„çš„ç¦»å¼€äº†é…’å§ã€‚<br>ã€€ã€€ä¸€åé¡¾å®¢ç‚¹äº†ä¸€ä»½ç‚’é¥­ï¼Œé…’å§ç‚¸äº†ã€‚</p><h1 id="ä¹±ç æ‰“æ²¹è¯—"><a href="#ä¹±ç æ‰“æ²¹è¯—" class="headerlink" title="ä¹±ç æ‰“æ²¹è¯—"></a>ä¹±ç æ‰“æ²¹è¯—</h1><p>ã€€ã€€æ‰‹æŒä¸¤æŠŠé”Ÿæ–¤æ‹·ï¼Œå£ä¸­ç–¾å‘¼çƒ«çƒ«çƒ«ã€‚<br>ã€€ã€€è„šè¸åƒæœµå±¯å±¯å±¯ï¼Œç¬‘çœ‹ä¸‡ç‰©è¯ºè¯ºè¯ºã€‚</p><h1 id="å®¢æˆ·å¤šæ ·æ€§"><a href="#å®¢æˆ·å¤šæ ·æ€§" class="headerlink" title="å®¢æˆ·å¤šæ ·æ€§"></a>å®¢æˆ·å¤šæ ·æ€§</h1><p>ã€€ã€€æˆ‘ä»¥ä¸ºçš„ç©å®¶ï¼š<br>ã€€ã€€è€è€å®å®æ‰“æ€ªã€‚è€è€å®å®åˆ·æ€ªã€‚è€è€å®å®æ¢é™©<br>ã€€ã€€å®é™…ä¸Šçš„ç©å®¶ï¼š<br>ã€€ã€€è¿™ä¸ªæ€ªç‰©ä¸­é—´æœ‰æ¡ç¼ã€‚æ¬¸ï¼æˆ‘è¹­åˆ°å®ç®±äº†ã€‚<br>ã€€ã€€æˆ‘æŠŠè¿™ä¸ªæ€ªç‰©å¸¦åˆ°æ‘åº„ä¼šæ€ä¹ˆæ ·ã€‚<br>ã€€ã€€æˆ‘æ‹¿åˆ°å®ç®±çš„æ—¶å€™ç«‹åˆ»å…³äº†æ¸¸æˆç„¶åæ¢ä¸€ä¸ªä¸Šçº¿æ˜¯ä¸æ˜¯å°±å¯ä»¥ç™½å«–ä¸€ä»½ã€‚<br>ã€€ã€€â€¦â€¦</p><h1 id="Jeff-Dean"><a href="#Jeff-Dean" class="headerlink" title="Jeff Dean"></a>Jeff Dean</h1><ul><li>ä»£ç ä½œä¸ºæ–‡æ¡£ä½¿ç”¨ï¼Œæäº¤çš„åªæœ‰äºŒè¿›åˆ¶æ–‡ä»¶</li><li>é”®ç›˜åªæœ‰0å’Œ1</li><li>æäº¤å‰ä¼šéªŒè¯æ€§çš„ç¼–è¯‘ä¸€æ¬¡</li><li>ç¼–è¯‘æœŸé—´ä¼šè­¦å‘Šç¼–è¯‘å™¨ï¼Œè€Œä¸æ˜¯ç¼–è¯‘å™¨ç»™å‡ºè­¦å‘Š</li><li>é¡ºä¾¿æ£€æŸ¥ç¼–è¯‘å™¨æœ‰æ²¡æœ‰Bug</li><li>æ¯å¤©æ‰“å¼€é‚®ç®±ï¼Œæ£€æŸ¥ä»Šå¤©è¯·æ±‚gcc -O4ä¼˜åŒ–çš„ä»£ç </li><li>ç²¾åŠ›æœ‰é™ï¼Œæ‰€ä»¥ç®—æ³•é€šå¸¸ä¼˜åŒ–åˆ°O(1/n)</li><li>ä»…æœ‰çš„å¤±æ‰‹æ˜¯æ—…è¡Œå•†é—®é¢˜ï¼Œä¼˜åŒ–åˆ°O(n^2)</li><li>è¢«è¿«ä½¿ç”¨å¼‚æ­¥APIï¼Œå› ä¸ºä¼˜åŒ–è¿‡çš„å‡½æ•°ä¼šåœ¨è¢«è°ƒç”¨å‰è¿”å›</li><li>å¶å°”æ‰‹åŠ¨æ¥ç®¡GoogleæŒ‚æ‰çš„æœåŠ¡å™¨ï¼ŒæœŸé—´ç”¨æˆ·æ»¡æ„åº¦ç¿»å€</li></ul><center><font size='1'>æœ¬æ–‡æœ€åæ›´æ–°äº2021å¹´5æœˆ5æ—¥</font></center>]]></content>
    
    
    <categories>
      
      <category>æ—¥å¸¸</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤šçº¿ç¨‹é”</title>
    <link href="/peachskin/2021/04/11/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%94%81/"/>
    <url>/peachskin/2021/04/11/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%94%81/</url>
    
    <content type="html"><![CDATA[<center><font size='8'>å¤šçº¿ç¨‹ä¸‹å†²çªè§£å†³æ–¹æ¡ˆ</font></center><center><font size='0'>sem_tä¿¡å·é‡çš„ä½¿ç”¨</font></center><h1 id="é¢˜ç›®è¦æ±‚"><a href="#é¢˜ç›®è¦æ±‚" class="headerlink" title="é¢˜ç›®è¦æ±‚"></a>é¢˜ç›®è¦æ±‚</h1><p>ã€€ã€€åœ¨å¤šçº¿ç¨‹æ¡ä»¶ä¸‹ï¼Œå®Œæˆå¯¹ğŸ¥§çš„è®¡ç®—ã€‚å®éªŒæä¾›æœ‰å•çº¿ç¨‹ç‰ˆæœ¬ï¼Œè¦æ±‚è¿›è¡Œä¿®æ”¹ï¼Œå¹¶åœ¨ä»£ç ç©ºç™½å¤„å®ç°å¤šçº¿ç¨‹è®¡ç®—ã€‚å­¦ä¹ ä½¿ç”¨ä¿¡å·é‡ï¼Œé˜²æ­¢åœ¨å¤šçº¿ç¨‹è®¡ç®—æœ€ç»ˆç»“æœæ—¶å‡ºé”™ã€‚åŸé¢˜ç›®æ¥è‡ªäº<a href="https://easyhpc.net/course/106">è¶…ç®—å¹³å°homework3</a></p><h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>ã€€ã€€ä»çº§æ•°ä¸­å¯ä»¥çŸ¥é“</p><p>ã€€ã€€Pi = 4*ï¼ˆ1 - 1/3 + 1/5 - 1/7 + 1/9 - â€¦ï¼‰</p><p>ã€€ã€€æ‰€ä»¥é—®é¢˜å˜æˆäº†æ±‚çº§æ•°ç´¯åŠ å’Œï¼Œæ­¤å¤„æƒ³æ³•ä¾¿æ˜¯å°†è®¡ç®—æ€»æ•°å¹³å‡åˆ†ï¼Œä¸åŒçº¿ç¨‹å„è‡ªè®¡ç®—è‡ªå·±çš„é¡¹æ•°å’Œï¼Œç„¶åè¾“å‡ºæ±‡æ€»åˆ°ä¸€ä¸ªè§£ä¸Šé¢ã€‚</p><p>ã€€ã€€å› ä¸ºä¸åŒçš„çº¿ç¨‹è¿è¡Œé€Ÿåº¦æœ‰å¿«æœ‰æ…¢ï¼Œå¦‚æœç¢°ä¸Šä¸¤ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…±äº«å†…å­˜è¿›è¡ŒåŠ æ³•æ“ä½œï¼Œå°±ä¼šå‡ºç°è®¡ç®—é”™è¯¯ï¼Œä¸ºæ­¤å¼•å…¥ä¿¡å·é‡sem_tã€‚</p><p>ã€€ã€€ä¿¡å·é‡ä½¿ç”¨ï¼Œæœ€åŸºæœ¬çš„ä½¿ç”¨å¦‚ä¸‹<br><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;semaphore&gt;# å¼•å…¥è¿™ä¸ªåº“</span></span><span class="hljs-keyword">sem_t</span> sem# æ–°å»ºä¸€ä¸ªä¿¡å·é‡sem_init(&amp;sem ,<span class="hljs-number">0</span> ,<span class="hljs-number">1</span>)# åœ¨mainä¸­è°ƒç”¨å°†ä¿¡å·é‡åˆå§‹åŒ–ä¸º<span class="hljs-number">1</span>sem_wait(&amp;sem)# åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰ï¼Œç­‰å¾…é”é‡Šæ”¾sem_post(&amp;sem)# ä¸´ç•ŒåŒºä»£ç è¿è¡Œå®Œæ¯•åé‡Šæ”¾æ‰ä¿¡å·é‡sem_destory(&amp;sem)# åœ¨ä¸»çº¿ç¨‹è¿è¡Œç»“æŸåï¼Œè°ƒç”¨é‡Šæ”¾æ‰ä¿¡å·é‡</code></pre></p><h1 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h1><p>ã€€ã€€å½“næ¯”è¾ƒå°çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œçº¿ç¨‹åŒæ­¥å¸¦æ¥çš„å¼€é”€æ¯”è¾ƒå¤§ã€‚<br><img src="http://img.yuko.buzz/images/2021/04/11/n100000.png" alt="n100000.png"><br>ã€€ã€€å½“nå……åˆ†å¤§çš„æ—¶å€™ï¼Œæ­¤æ—¶çº¿ç¨‹åŒæ­¥å¸¦æ¥çš„å¼€é”€ç›¸æ¯”äºè®¡ç®—ç”¨æ—¶å·²ç»å¾®ä¸è¶³é“ï¼Œå¯ä»¥çœ‹è§æ˜æ˜¾çš„é€Ÿåº¦æå‡ã€‚<br><img src="http://img.yuko.buzz/images/2021/04/11/n1000000000.png" alt="n1000000000.png"></p><h1 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h1><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;math.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;semaphore.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/time.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GET_TIME(now)                         \</span>   &#123;                                          \      <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timeval</span> <span class="hljs-title">t</span>;</span>                       \      gettimeofday(&amp;t, <span class="hljs-literal">NULL</span>);                 \      now = t.tv_sec + t.tv_usec / <span class="hljs-number">1000000.0</span>; \   &#125;<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX_THREADS = <span class="hljs-number">1024</span>;<span class="hljs-keyword">long</span> thread_count;<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> n;<span class="hljs-keyword">double</span> sum;<span class="hljs-keyword">sem_t</span> sem;<span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">Thread_sum</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *rank)</span></span>;<span class="hljs-comment">/* Only executed by main thread */</span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Get_args</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span></span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Usage</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *prog_name)</span></span>;<span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">Serial_pi</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> n)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">long</span> thread; <span class="hljs-comment">/* Use long in case of a 64-bit system */</span>   <span class="hljs-keyword">pthread_t</span> *thread_handles;   <span class="hljs-keyword">double</span> start, finish, elapsed;   <span class="hljs-comment">/* please choose terms &#x27;n&#x27;, and the threads &#x27;thread_count&#x27; here. */</span>   n = <span class="hljs-number">10000000000</span>;<span class="hljs-comment">// æ§åˆ¶è®¡ç®—é¡¹æ•°</span>   thread_count = <span class="hljs-number">4</span>;<span class="hljs-comment">// çº¿ç¨‹æ•°</span>   <span class="hljs-comment">/* You can also get number of threads from command line */</span>   <span class="hljs-comment">//Get_args(argc, argv);</span>   thread_handles = (<span class="hljs-keyword">pthread_t</span> *)<span class="hljs-built_in">malloc</span>(thread_count * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">pthread_t</span>));   sem_init(&amp;sem, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);   sum = <span class="hljs-number">0.0</span>;   GET_TIME(start);   <span class="hljs-keyword">for</span> (thread = <span class="hljs-number">0</span>; thread &lt; thread_count; thread++)      pthread_create(&amp;thread_handles[thread], <span class="hljs-literal">NULL</span>,                     Thread_sum, (<span class="hljs-keyword">void</span> *)thread);   <span class="hljs-keyword">for</span> (thread = <span class="hljs-number">0</span>; thread &lt; thread_count; thread++)      pthread_join(thread_handles[thread], <span class="hljs-literal">NULL</span>);   GET_TIME(finish);   elapsed = finish - start;   sum = <span class="hljs-number">4.0</span> * sum;   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;With n = %lld terms,\n&quot;</span>, n);   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   Our estimate of pi = %.15f\n&quot;</span>, sum);   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The elapsed time is %e seconds\n&quot;</span>, elapsed);   GET_TIME(start);   sum = Serial_pi(n);   GET_TIME(finish);   elapsed = finish - start;   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   Single thread est  = %.15f\n&quot;</span>, sum);   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The elapsed time is %e seconds\n&quot;</span>, elapsed);   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;                   pi = %.15f\n&quot;</span>, <span class="hljs-number">4.0</span> * <span class="hljs-built_in">atan</span>(<span class="hljs-number">1.0</span>));   sem_destroy(&amp;sem);   <span class="hljs-built_in">free</span>(thread_handles);   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125; <span class="hljs-comment">/* main */</span><span class="hljs-comment">/*------------------------------------------------------------------*/</span><span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">Thread_sum</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *rank)</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">long</span> my_rank = (<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>)rank;   <span class="hljs-keyword">double</span> my_sum = <span class="hljs-number">0.0</span>;   <span class="hljs-comment">/*******************************************************************/</span>   <span class="hljs-keyword">double</span> factor = <span class="hljs-number">1</span>;   <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> max_size = <span class="hljs-number">0</span>;   <span class="hljs-keyword">if</span> (my_rank == <span class="hljs-number">3</span>)<span class="hljs-comment">// å¹³å‡åˆ†é…è®¡ç®—é‡ï¼Œæœ€åä¸€ä¸ªçº¿ç¨‹è®¡ç®—å‰©ä½™éƒ¨åˆ†ã€‚</span>   &#123;      max_size = n;   &#125;   <span class="hljs-keyword">else</span>   &#123;      max_size = my_rank * n / <span class="hljs-number">4</span> + n / <span class="hljs-number">4</span>;   &#125;   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> i = my_rank * n / <span class="hljs-number">4</span>; i &lt; max_size; i++, factor = -factor)   &#123;      my_sum += factor / (<span class="hljs-number">2</span> * (i + my_rank) + <span class="hljs-number">1</span>);   &#125;   <span class="hljs-comment">//printf(&quot;%.15lf\n&quot;, my_sum);</span>   sem_wait(&amp;sem);<span class="hljs-comment">// ç­‰å¾…é”</span>   sum += my_sum;<span class="hljs-comment">// ä¸´ç•ŒçŠ¶æ€</span>   sem_post(&amp;sem);<span class="hljs-comment">// é‡Šæ”¾é”</span>   <span class="hljs-comment">/******************************************************************/</span>   <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;&#125; <span class="hljs-comment">/* Thread_sum */</span><span class="hljs-comment">/*------------------------------------------------------------------</span><span class="hljs-comment"> * Function:   Serial_pi</span><span class="hljs-comment"> * Purpose:    Estimate pi using 1 thread</span><span class="hljs-comment"> * In arg:     n</span><span class="hljs-comment"> * Return val: Estimate of pi using n terms of Maclaurin series</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">Serial_pi</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> n)</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">double</span> sum = <span class="hljs-number">0.0</span>;   <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> i;   <span class="hljs-keyword">double</span> factor = <span class="hljs-number">1.0</span>;   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++, factor = -factor)   &#123;      sum += factor / (<span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>);   &#125;   <span class="hljs-keyword">return</span> <span class="hljs-number">4.0</span> * sum;&#125; <span class="hljs-comment">/* Serial_pi */</span><span class="hljs-comment">/*------------------------------------------------------------------</span><span class="hljs-comment"> * Function:    Get_args</span><span class="hljs-comment"> * Purpose:     Get the command line args</span><span class="hljs-comment"> * In args:     argc, argv</span><span class="hljs-comment"> * Globals out: thread_count, n</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Get_args</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">if</span> (argc != <span class="hljs-number">3</span>)      Usage(argv[<span class="hljs-number">0</span>]);   thread_count = strtol(argv[<span class="hljs-number">1</span>], <span class="hljs-literal">NULL</span>, <span class="hljs-number">10</span>);   <span class="hljs-keyword">if</span> (thread_count &lt;= <span class="hljs-number">0</span> || thread_count &gt; MAX_THREADS)      Usage(argv[<span class="hljs-number">0</span>]);   n = strtoll(argv[<span class="hljs-number">2</span>], <span class="hljs-literal">NULL</span>, <span class="hljs-number">10</span>);   <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span>)      Usage(argv[<span class="hljs-number">0</span>]);&#125; <span class="hljs-comment">/* Get_args */</span><span class="hljs-comment">/*------------------------------------------------------------------</span><span class="hljs-comment"> * Function:  Usage</span><span class="hljs-comment"> * Purpose:   Print a message explaining how to run the program</span><span class="hljs-comment"> * In arg:    prog_name</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Usage</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *prog_name)</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">&quot;usage: %s &lt;number of threads&gt; &lt;n&gt;\n&quot;</span>, prog_name);   <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">&quot;   n is the number of terms and should be &gt;= 1\n&quot;</span>);   <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">&quot;   n should be evenly divisible by the number of threads\n&quot;</span>);   <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);&#125; <span class="hljs-comment">/* Usage */</span></code></pre>]]></content>
    
    
    <categories>
      
      <category>SYSU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¶…çº§è®¡ç®—æœºåŸç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Socketå¥—æ¥å­—å­¦ä¹ </title>
    <link href="/peachskin/2021/03/22/Socket%E5%A5%97%E6%8E%A5%E5%AD%97%E5%AD%A6%E4%B9%A0/"/>
    <url>/peachskin/2021/03/22/Socket%E5%A5%97%E6%8E%A5%E5%AD%97%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<center><font size='8'>Socketå¥—æ¥å­—çš„å­¦ä¹ </font></center><center><font size='0'>ä¹Ÿè®¸å¯ä»¥æ‹¿æ¥å†™ä¸ªæ‘¸é±¼èŠå¤©å®¤</font></center><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ã€€ã€€è®¡ç®—æœºç½‘ç»œè¯¾ç¨‹å­¦ä¹ ä½¿ç”¨æ“ä½œç³»ç»Ÿåº“socketåº“å®ç°ä¸€ä¸ªèƒ½å¤Ÿåœ¨å±€åŸŸç½‘å†…æ”¶å‘æ¶ˆæ¯çš„å‘½ä»¤è¡Œç¨‹åºã€‚å‚è€ƒèµ„æ–™æ¥ä¸»è¦è‡ªäºç½‘ä¸Šçš„åº“ç”¨æ³•æ•™ç¨‹ï¼Œç•™ä¸‹æ­¤æ–‡è®°å½•ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ã€‚</p><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>ã€€ã€€socketå¥—æ¥å­—æ˜¯è®¡ç®—æœºç½‘ç»œä¸­åº”ç”¨å±‚ä¸TCP/IPåè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œå®ƒæ˜¯ä¸€ç»„æ¥å£ã€‚åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼ŒSocketå…¶å®æ˜¯ä¸€ä¸ªAPIå°†å¤æ‚çš„TCP/IPåè®®éšè—åœ¨socketæ¥å£åé¢ï¼Œå¯¹äºä½¿ç”¨çš„ç”¨æˆ·æ¥è¯´ï¼Œä¸€ç»„ç®€å•çš„æ¥å£å°±æ˜¯å…¨éƒ¨ï¼Œè®©Socketå»ç»„ç»‡æ•°æ®ï¼Œè€Œç”¨æˆ·è‡ªå·±åªéœ€è¦å…³å¿ƒå¥½ä¼ è¾“çš„æ•°æ®ï¼Œå¯¹äºæ€ä¹ˆä¼ è¾“å¹¶ä¸éœ€è¦è¿‡å¤šäº†è§£ã€‚</p><p>ã€€ã€€ç½‘ç»œåè®®æœ‰åˆ†TCPå’ŒUDPä¸¤ç§åè®®ï¼Œä»–ä»¬çš„ä½œç”¨éƒ½æ˜¯æ”¶å‘æ•°æ®åŒ…ã€‚å”¯ä¸€çš„ä¸åŒæ˜¯TCPé¢å‘è¿æ¥ï¼Œåœ¨æ”¶å‘æ•°æ®åŒ…ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªè¿æ¥è¿‡ç¨‹ï¼Œåªæœ‰å»ºç«‹è¿æ¥ä¹‹åæ‰èƒ½å‘é€æ•°æ®åŒ…ã€‚è€ŒUDPå¹¶ä¸éœ€è¦è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼Œå®ƒå¯ä»¥åšåˆ°åªç»™ä¸€ä¸ªåœ°å€ï¼Œé©¬ä¸Šå°±èƒ½å¤Ÿå‘é€ï¼Œæœ‰æ€¥é€Ÿå‘è´§é‚£å‘³äº†ã€‚<br>ä»–ä»¬ä¹‹é—´å„æœ‰ä¼˜åŠ£ã€‚</p><hr><div class="table-container"><table><thead><tr><th>åè®®ç±»å‹</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td>UDP</td><td>å¯ä»¥å‘é€æ•°æ®å¾ˆå¿«</td><td>å®¹æ˜“ä¸¢åŒ…ï¼Œé€ æˆç½‘ç»œæ³¢åŠ¨</td><td>è§†é¢‘é€šè¯ç­‰å¯¹ä¸¢åŒ…ä¸æ•æ„Ÿï¼Œå¯¹é€Ÿåº¦æ•æ„Ÿçš„é¢†åŸŸ</td></tr><tr><td>TCP</td><td>å¾ˆç¨³å®šï¼Œä¸ä¼šä¸¢åŒ…</td><td>ç›¸æ¯”è¾ƒäºUDPï¼Œé€Ÿåº¦è¾ƒæ…¢</td><td>æ”¶å‘æ–‡ä»¶ç­‰å¯¹è¿›åº¦æœ‰è¾ƒé«˜è¦æ±‚çš„</td></tr></tbody></table></div><h1 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h1><h2 id="TCP-Client"><a href="#TCP-Client" class="headerlink" title="TCP Client"></a>TCP Client</h2><p>ã€€ã€€å¦‚ä½•åœ¨C++ä¸­ä½¿ç”¨socketï¼ˆä»¥ä¸‹æ–¹æ³•ä¸ºwindows10ä½¿ç”¨ï¼Œæ•™ç¨‹ä¸ºTCPè¿æ¥ï¼ŒUDPå†å‘ï¼‰ã€‚é¦–å…ˆåŠ å…¥socketå¤´æ–‡ä»¶åº“<br> <pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Winsock2.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sindows.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> comment(lib, <span class="hljs-meta-string">&quot;WS2_32.lib&quot;</span>)</span></code></pre><br>ã€€ã€€â€œWS2_32.libâ€æ˜¯windowsä¸‹çš„socketé“¾æ¥åº“ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰è¿˜éœ€è¦æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•åˆå§‹åŒ–é“¾æ¥åº“</p><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;WSADATA wsd;    <span class="hljs-keyword">if</span> (WSAStartup(MAKEWORD(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>), &amp;wsd))    &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;WSAStartup failed!\n&quot;</span>);        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;&#125;</code></pre><p>ã€€ã€€åœ¨ä¸€åˆ‡å‡†å¤‡å¦¥å½“ä¹‹åæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå¥—æ¥å­—<br><pre><code class="hljs C++">SOCKET sock;SOCKET sock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP); \\ PF_INETæŒ‡å®šè¿æ¥åè®®æ—ã€SOCK_STREAMè¡¨æ˜æ˜¯ä¸€ä¸ªTCPåè®®addr.sin_family = AF_INET;\\addr.sin_addr.S_un.S_addr = inet_addr(<span class="hljs-string">&quot;127.0.0.1&quot;</span>);\\æŒ‡å®šæœåŠ¡å™¨IP4åœ°å€addr.sin_port = htons(<span class="hljs-number">1234</span>);\\æœåŠ¡å™¨å¼€æ”¾çš„ç›‘å¬ç«¯å£</code></pre><br>ã€€ã€€å‘æœåŠ¡å™¨å‘é€è¿æ¥è¯·æ±‚<br><pre><code class="hljs C++">connect(sock, (SOCKADDR *)&amp;sockAddr, <span class="hljs-keyword">sizeof</span>(SOCKADDR)+<span class="hljs-number">10</span>);</code></pre><br>ã€€ã€€å»ºç«‹è¿æ¥åä½¿ç”¨sendå‡½æ•°å‘æœåŠ¡å™¨å‘é€æ•°æ®<br><pre><code class="hljs C++">send(sock, <span class="hljs-string">&quot;aaa&quot;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">0</span>);\\sockè¡¨æ˜åœ°å€ï¼Œâ€œaaaâ€æ˜¯å‘é€çš„æ•°æ®ï¼Œ<span class="hljs-number">512</span>æ˜¯å‘é€å­—ç¬¦æ•°é‡ï¼ˆå½“ç„¶å¯ä»¥ä½¿ç”¨<span class="hljs-keyword">sizeof</span>åŠ¨æ€ï¼Œä½†æ˜¯è¿™é‡Œå°±å·æ‡’æ‹‰ï¼‰ï¼Œ<span class="hljs-number">0</span>æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬ä¸åŠ¨</code></pre><br>ã€€ã€€ç›‘å¬æ¥è‡ªæœåŠ¡å™¨çš„å›åº”<br><pre><code class="hljs C++">recv(sock, szBuffer, <span class="hljs-number">512</span>, <span class="hljs-number">0</span>);\\szBufferæ˜¯æ¥å—å­—ç¼“å†²åŒºï¼ˆå°±æ˜¯æ”¶åˆ°çš„å­—ç¬¦å†™åˆ°å“ªé‡Œï¼‰ï¼Œ</code></pre></p><p>ã€€ã€€ä½¿ç”¨å®Œè¿æ¥èµ„æºååº”å½“åŠæ—¶è°ƒç”¨å¥—æ¥å­—å…³é—­å‡½æ•°ï¼Œé‡Šæ”¾è¢«å ç”¨çš„èµ„æº<br><pre><code class="hljs C++">closesocket(sock);</code></pre></p><p>ã€€ã€€å®Œæ•´å®¢æˆ·ç«¯ä»£ç <br><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> comment(lib, <span class="hljs-meta-string">&quot;ws2_32.lib&quot;</span>)</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;WinSock2.h&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">scmp</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *a, <span class="hljs-keyword">char</span> *b)</span></span>&#123;<span class="hljs-comment">//</span>    <span class="hljs-keyword">if</span>(a[<span class="hljs-number">0</span>] == b[<span class="hljs-number">0</span>] &amp;&amp; a[<span class="hljs-number">1</span>] == b[<span class="hljs-number">1</span>] &amp;&amp; a[<span class="hljs-number">2</span>] == b[<span class="hljs-number">2</span>] &amp;&amp; a[<span class="hljs-number">3</span>] == b[<span class="hljs-number">3</span>])&#123;        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-comment">//åˆå§‹åŒ–DLL</span>    WSADATA wsaData;    <span class="hljs-keyword">if</span> (WSAStartup(MAKEWORD(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>), &amp;wsd))    &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;WSAStartup failed!\n&quot;</span>);        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    <span class="hljs-comment">//åˆ›å»ºå¥—æ¥å­—</span>    SOCKET sock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP);    <span class="hljs-comment">//å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚</span>    sockaddr_in sockAddr;    <span class="hljs-built_in">memset</span>(&amp;sockAddr, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(sockAddr)); <span class="hljs-comment">//æ¯ä¸ªå­—èŠ‚éƒ½ç”¨0å¡«å……</span>    sockAddr.sin_family = PF_INET;    sockAddr.sin_addr.s_addr = inet_addr(<span class="hljs-string">&quot;127.0.0.1&quot;</span>);    sockAddr.sin_port = htons(<span class="hljs-number">1234</span>);    <span class="hljs-keyword">if</span> (connect(sock, (SOCKADDR *)&amp;sockAddr, <span class="hljs-keyword">sizeof</span>(SOCKADDR)+<span class="hljs-number">10</span>))    &#123;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;client connect error&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        closesocket(sock);        WSACleanup();        system(<span class="hljs-string">&quot;pause&quot;</span>);        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    send(sock, <span class="hljs-string">&quot;aaa&quot;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">0</span>);    <span class="hljs-comment">//æ¥æ”¶æœåŠ¡å™¨ä¼ å›çš„æ•°æ®</span>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)    &#123;        <span class="hljs-keyword">char</span> szBuffer[MAXBYTE] = &#123;<span class="hljs-number">0</span>&#125;;                recv(sock, szBuffer, MAXBYTE, <span class="hljs-number">0</span>);        <span class="hljs-comment">//è¾“å‡ºæ¥æ”¶åˆ°çš„æ•°æ®</span>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Message from server: \n&quot;</span> &lt;&lt; szBuffer &lt;&lt; <span class="hljs-built_in">endl</span> &lt;&lt;<span class="hljs-string">&quot;------------------------------&quot;</span>&lt;&lt; <span class="hljs-built_in">endl</span>;        <span class="hljs-comment">// _sleep(50);</span>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;input your massage: &quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        fgets(szBuffer, <span class="hljs-number">512</span>, <span class="hljs-built_in">stdin</span>);        <span class="hljs-keyword">if</span>(scmp(szBuffer,<span class="hljs-string">&quot;exit&quot;</span>) )&#123;<span class="hljs-comment">//è¾“å…¥exitå…³é—­è¿æ¥</span>            <span class="hljs-keyword">break</span>;        &#125;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;-------------------------------&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        send(sock, szBuffer, <span class="hljs-number">512</span>, <span class="hljs-number">0</span>);    &#125;    <span class="hljs-comment">//å…³é—­å¥—æ¥å­—</span>    closesocket(sock);    <span class="hljs-comment">//ç»ˆæ­¢ä½¿ç”¨ DLL</span>    WSACleanup();    system(<span class="hljs-string">&quot;pause&quot;</span>);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre></p><h2 id="TCP-serverç«¯"><a href="#TCP-serverç«¯" class="headerlink" title="TCP serverç«¯"></a>TCP serverç«¯</h2><p>ã€€ã€€ä¸Šé¢ä»£ç å·²ç»å»ºç«‹äº†ä¸€ä¸ªå…·å¤‡ä¿¡æ¯æ”¶å‘èƒ½åŠ›çš„å®¢æˆ·ç«¯ï¼Œæ¥ä¸‹å»å†™ä¸€ä¸ªèƒ½å¤Ÿæ¥å—ä¿¡æ¯ä¹Ÿå¯ä»¥å‘é€ä¿¡æ¯è¿›è¡Œäº¤äº’çš„æœåŠ¡ç«¯ç¨‹åºã€‚</p><p>ã€€ã€€æœåŠ¡ç«¯å¼€å¤´äºå®¢æˆ·ç«¯ç›¸åŒï¼Œä¸åŒçš„æ˜¯å¥—æ¥å­—çš„å»ºç«‹æ–¹å¼<br> <pre><code class="hljs C++">sockaddr_in sockAddr;                sockAddr.sin_family = PF_INET;                       sockAddr.sin_addr.s_addr = htonl(INADDR_ANY);   \\è¡¨ç¤ºç»‘å®šæœ¬æœºIP4åœ°å€ sockAddr.sin_port = htons(<span class="hljs-number">1234</span>); bind(Sock, (SOCKADDR *)&amp;Addr, <span class="hljs-keyword">sizeof</span>(SOCKADDR));\\æŠŠè¿™ä¸ªå¥—æ¥å­—ç»‘å®šåˆ°æœåŠ¡å™¨å¯¹åº”ç«¯å£</code></pre><br> ã€€ã€€æ¥å—æ¥è‡ªå®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚<br> <pre><code class="hljs C++">SOCKET clntSock = accept(Sock, (SOCKADDR *)&amp;Addr, &amp;nSize);</code></pre><br> ã€€ã€€å®Œæ•´çš„æœåŠ¡ç«¯ä»£ç <br> <pre><code class="hljs C++"> <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/types.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> comment(lib, <span class="hljs-meta-string">&quot;ws2_32.lib&quot;</span>)</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;WinSock2.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;windows.h&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-comment">// #include &lt;sys/socket.h&gt;</span><span class="hljs-comment">// #include &lt;netinet/in.h&gt;</span><span class="hljs-comment">// #include &lt;arpa/inet.h&gt;</span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span></span><span class="hljs-function"></span>&#123;    WSADATA wsaData;    WSAStartup(MAKEWORD(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>), &amp;wsaData);    SOCKET Sock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP);    sockaddr_in sockAddr;    <span class="hljs-built_in">memset</span>(&amp;sockAddr, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(sockAddr));               sockAddr.sin_family = PF_INET;                   sockAddr.sin_addr.s_addr = htonl(INADDR_ANY);          sockAddr.sin_port = htons(<span class="hljs-number">1234</span>);         bind(Sock, (SOCKADDR *)&amp;sockAddr, <span class="hljs-keyword">sizeof</span>(SOCKADDR));     <span class="hljs-keyword">if</span> (listen(Sock, SOMAXCONN) &lt; <span class="hljs-number">0</span>)    &#123;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;listen set error&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        system(<span class="hljs-string">&quot;pause&quot;</span>);        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    SOCKADDR clntAddr;    <span class="hljs-keyword">int</span> nSize = <span class="hljs-keyword">sizeof</span>(SOCKADDR);    SOCKET clntSock = accept(Sock, (SOCKADDR *)&amp;clntAddr, &amp;nSize);\\clntSockæ˜¯æ”¶åˆ°çš„æ¥è‡ªå®¢æˆ·ç«¯åœ°å€ï¼Œååˆ†é‡è¦æ˜¯ä¹‹åå‘é€æ•°æ®ä¾æ®    <span class="hljs-keyword">if</span> (clntSock == SOCKET_ERROR)    &#123;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;error&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        closesocket(clntSock);        closesocket(Sock);        WSACleanup();        system(<span class="hljs-string">&quot;pause&quot;</span>);        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    <span class="hljs-keyword">else</span>    &#123;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;OK to connect&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;    &#125;    <span class="hljs-keyword">char</span> recv_buf[<span class="hljs-number">100</span>];    <span class="hljs-keyword">int</span> recv_len = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)    &#123;        recv_len = recv(clntSock, recv_buf, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>);        <span class="hljs-keyword">if</span> (recv_len &lt; <span class="hljs-number">0</span>)        &#123;            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;receive error !!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-keyword">break</span>;        &#125;        <span class="hljs-keyword">else</span>        &#123;            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;message received&quot;</span> &lt;&lt; recv_buf &lt;&lt; <span class="hljs-built_in">endl</span>;        &#125;        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;send out your message&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;        <span class="hljs-keyword">char</span> send_buf[<span class="hljs-number">100</span>];        <span class="hljs-built_in">cin</span> &gt;&gt; send_buf;        <span class="hljs-keyword">int</span> send_len = <span class="hljs-built_in">strlen</span>(send_buf);        send_len = send(clntSock, send_buf, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>);        <span class="hljs-keyword">if</span> (send_len &lt; <span class="hljs-number">0</span>)        &#123;            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;send out successfully &quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-keyword">break</span>;        &#125;    &#125;î‚¢î¶    closesocket(clntSock);    closesocket(servSock);    WSACleanup();    system(<span class="hljs-string">&quot;pause&quot;</span>);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p> ã€€ã€€æ€»ä½“æ¥è¯´å®éªŒè¿˜æ˜¯éå¸¸è½»æ¾çš„ï¼Œå¯ä»¥å°†æœåŠ¡ç«¯æ”¾åˆ°çœŸæ­£çš„æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªéå¸¸ç®€æ˜“çš„èŠå¤©å®¤ã€‚å°½ç®¡ç›®å‰ä»£ç ååˆ†ä¸å®Œå–„ï¼Œæ¯”å¦‚è¯´åªèƒ½åœ¨å‘é€æ¶ˆæ¯ä¹‹åæ‰èƒ½æ˜¾ç¤ºæ¥è‡ªæœåŠ¡ç«¯çš„æ¶ˆæ¯ã€‚è¿™å¯ä»¥ç”¨å¤šçº¿ç¨‹æ¥åšï¼Œä¸è¿‡å°±éœ€è¦ç­‰åˆ°ä»¥åæ»¡æ»¡å­¦ä¹ æ‹‰</p><hr><center><font size='0'>2021å¹´3æœˆ22æ—¥</font></center>]]></content>
    
    
    <categories>
      
      <category>SYSU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>scoop</title>
    <link href="/peachskin/2021/03/03/scoop/"/>
    <url>/peachskin/2021/03/03/scoop/</url>
    
    <content type="html"><![CDATA[<center><font size='8'>windowsä¸‹å¥½ç”¨çš„åŒ…ç®¡ç†å™¨scoop</font></center><center><font size='0'>è„šæœ¬è‡ªåŠ¨è£…è½¯ä»¶æ˜¯çœŸçš„é¦™</font></center><hr><h2 id="1ã€scoopç®€ä»‹"><a href="#1ã€scoopç®€ä»‹" class="headerlink" title="1ã€scoopç®€ä»‹"></a>1ã€scoopç®€ä»‹</h2><p>ã€€ã€€Scoopæ˜¯Windowsçš„å‘½ä»¤è¡Œå®‰è£…ç¨‹åºï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŒ…ç®¡ç†å·¥å…·ã€‚å¯ä»¥åœ¨githubä¸Šæ‰¾åˆ°å…¶é¡¹ç›®çš„ç›¸å…³ä¿¡æ¯ï¼Œé¡¹ç›®<a href="https://github.com/lukesampson/scoop">ç½‘å€</a>ã€‚</p><p>ã€€ã€€å®‰è£…çš„èµ·å› ï¼šåœ¨å¹³å¸¸ç”Ÿæ´»ä¸­å¦‚æœè¦å®‰è£…åƒgccã€gitç­‰ä¸€äº›éœ€è¦æ‰‹åŠ¨é…ç½®ç›¸å…³å‚æ•°çš„å·¥å…·ï¼Œéœ€è¦å…ˆå»å®˜ç½‘ä¸‹è½½å®‰è£…ç¨‹åºï¼Œç‚¹å‡»å®‰è£…ï¼Œä¹‹åè¿˜éœ€è¦é…ç½®ï¼Œä¸ä»…è¿‡ç¨‹éº»çƒ¦ï¼Œè€Œä¸”å·¥å…·å¤šäº†ä¹‹åæ•´ç†èµ·æ¥ä¹Ÿç›¸å½“ä¸å®¹æ˜“ï¼Œé…ç½®ä¹Ÿå¾ˆæ‚ï¼Œæ•´ä¸ªç”µè„‘å°±åƒè¢«æ±¡æŸ“äº†ä¸€æ ·ã€‚ä¸ä»…å¦‚æ­¤ï¼Œåœ¨windowsä¸‹é…ç½®ä¸€ä¸ªèƒ½ä½¿ç”¨çš„GCCç¼–è¯‘å™¨å’ŒGDBè°ƒè¯•å™¨ï¼Œèƒ½å¤Ÿä¸å‡ºå„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜å°±å·²ç»æ˜¯è°¢å¤©è°¢åœ°äº†ã€‚è¿™æ—¶å€™å°±å¥½ç¾¡æ…•éš”å£çš„linuxå¼ºå¤§çš„aptåŒ…ç®¡ç†å™¨ï¼Œæˆ–è€…macçš„homebrewã€‚è¿™æ—¶å€™scoopæ¨ªç©ºå‡ºä¸–ã€‚å®‰è£…scoopåï¼Œåªéœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥ç®€å•çš„ä¸€ä¸²å‘½ä»¤å³å¯å®‰è£…ä½ æƒ³è¦çš„è½¯ä»¶ã€‚æ¯”å¦‚æˆ‘æƒ³å®‰è£…gccï¼Œåªéœ€è¦è¾“å…¥</p><pre><code class="hljs CMD">scoop install gccscoop install gdb</code></pre><p>å°±èƒ½å¤Ÿå¸®æˆ‘å®Œæˆä»å®‰è£…åˆ°ç¯å¢ƒå˜é‡å…¨éƒ¨è¿‡ç¨‹ã€‚ä»æ­¤å‘Šåˆ«ç™¾åº¦ä¸ºä»€ä¹ˆgccå‘½ä»¤å‡ºé”™ã€‚</p><h2 id="2ã€scoopå®‰è£…æ–¹æ³•"><a href="#2ã€scoopå®‰è£…æ–¹æ³•" class="headerlink" title="2ã€scoopå®‰è£…æ–¹æ³•"></a>2ã€scoopå®‰è£…æ–¹æ³•</h2><h3 id="1-ç¯å¢ƒè¦æ±‚"><a href="#1-ç¯å¢ƒè¦æ±‚" class="headerlink" title="1.ç¯å¢ƒè¦æ±‚"></a>1.ç¯å¢ƒè¦æ±‚</h3><ul><li>Windows 7 SP1 + / Windows Server 2008+</li><li>Powershell 5 æˆ–è€…æ›´é«˜ç‰ˆæœ¬å’Œ.NET Framework 4.5æˆ–è€…æ›´é«˜ç‰ˆæœ¬</li><li>å¿…é¡»ä¸ºæ‚¨çš„ç”¨æˆ·å¯ç”¨PowerShellï¼Œä¾‹å¦‚Set-ExecutionPolicy RemoteSigned -Scope CurrentUser</li><li>ä½ èƒ½å¤Ÿæ­£å¸¸ï¼ˆæœ€å¥½æ˜¯å¿«é€Ÿï¼‰è®¿é—®æœ€å¤§<a href="https://github.com">åŒæ€§äº¤å‹ç½‘ç«™</a></li></ul><h3 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2.å®‰è£…"></a>2.å®‰è£…</h3><p>é¦–å…ˆæ‰“å¼€ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€PowerShellï¼Œåœ¨é‡Œé¢è¾“å…¥è¿™æ¡å‘½ä»¤å¯ç”¨è„šæœ¬ï¼š<br><pre><code class="hljs CMD"><span class="hljs-built_in">set</span>-executionpolicy remotesigned -scope currentuser</code></pre><br>ç„¶åä½¿ç”¨è¿™æ¡å‘½ä»¤ä¸€é”®å®‰è£…ï¼š<br><pre><code class="hljs CMD">iex (new-object <span class="hljs-built_in">net</span>.webclient).downloadstring(&#x27;https://get.scoop.sh&#x27;)æˆ–è€…iwr -useb get.scoop.sh | iex</code></pre><br>æˆ‘ä»¬ç­‰å¾…å‘½ä»¤è¿è¡Œç»“æŸï¼Œè¾“å…¥<br><pre><code class="hljs cmd">scoop <span class="hljs-built_in">help</span></code></pre><br>å¦‚æœå‡ºç°äº†<br><img src='https://img-blog.csdnimg.cn/20191109184638568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3lvb2k=,size_16,color_FFFFFF,t_70' ><br>ã€€ã€€é‚£ä¹ˆæ­å–œå®‰è£…å®Œæˆã€‚å®‰è£…åˆ°æ­¤ç»“æŸã€‚é¡ºå¸¦ä¸€æï¼Œè¿™ä¸ªè½¯ä»¶æ˜¯é»˜è®¤å®‰è£…åˆ°â€œC:\ç”¨æˆ·\scoop\â€åº•ä¸‹çš„ã€‚è€Œä¸”åœ¨æ­¤ä¸‹è½½å®‰è£…çš„æ‰€æœ‰è½¯ä»¶éƒ½ä¼šåœ¨è¿™ä¸ªç›®å½•çš„â€œ\app\â€åº•ä¸‹ã€‚Cç›˜ç©ºé—´å¤šï¼Œé‚£å°±å°±æ­¤ç»“æŸã€‚å¦‚æœCç›˜ç©ºé—´ä¸å¤Ÿï¼Œä¸è¦æ€¥ï¼Œæ¥ä¸‹å»çœ‹ã€‚</p><h3 id="3ã€ç§»åŠ¨é»˜è®¤å®‰è£…ä½ç½®"><a href="#3ã€ç§»åŠ¨é»˜è®¤å®‰è£…ä½ç½®" class="headerlink" title="3ã€ç§»åŠ¨é»˜è®¤å®‰è£…ä½ç½®"></a>3ã€ç§»åŠ¨é»˜è®¤å®‰è£…ä½ç½®</h3><p>ã€€ã€€æˆ‘ç›¸ä¿¡å„ä½éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œä¹Ÿéœ€è¦è¿™ä¸ªè½¯ä»¶æ˜¯ä¸€å®šæœ‰åŠ¨æ‰‹èƒ½åŠ›çš„ã€‚<br>å°†scoopå®‰è£…åˆ°è‡ªå®šä¹‰ç›®å½•<br><pre><code class="hljs cmd">$env:SCOOP=&#x27;D:\Applications\Scoop&#x27;   \\ä½ çš„ç›®å½•[Environment]::SetEnvironmentVariable(&#x27;SCOOP&#x27;, $env:SCOOP, &#x27;User&#x27;)</code></pre><br>å°†è½¯ä»¶å®‰è£…åˆ°è¿™ä¸ªç›®å½•<br><pre><code class="hljs cmd">$env:SCOOP_GLOBAL=&#x27;F:\GlobalScoopApps&#x27;[Environment]::SetEnvironmentVariable(&#x27;SCOOP_GLOBAL&#x27;, $env:SCOOP_GLOBAL, &#x27;Machine&#x27;)</code></pre><br>ä»¥ä¸Šæ˜¯å‘½ä»¤è¡Œæ–¹æ³•ã€‚</p><hr><p>æ¥ä¸‹æ¥æ˜¯ä¸é€‚ç”¨å‘½ä»¤è¡Œçš„æ–¹æ³•ï¼š</p><p>ã€€ã€€åˆ°â€œC:\ç”¨æˆ·\scoopâ€å°†æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°ä½ éœ€è¦çš„åœ°æ–¹ï¼Œä¾‹å¦‚â€œD:\scoopâ€ï¼Œç„¶åæ‰“å¼€åº•ä¸‹â€œshimsâ€æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªâ€œscoop.cmdâ€çš„æ–‡ä»¶ï¼Œå³é”®ç¼–è¾‘å®ƒã€‚åœ¨é‡Œé¢æ‰¾åˆ°è¿™æ ·ä¸€è¡Œä»£ç </p><pre><code class="hljs cmd">powershell -noprofile -ex unrestricted &quot;&amp; &#x27;C:\ç”¨æˆ·åå­—\scoop\apps\scoop\current\bin\scoop.ps1&#x27;  <span class="hljs-variable">%args%</span>;<span class="hljs-keyword">exit</span> $lastexitcode&quot;</code></pre><p>ä¿®æ”¹ä¸º<br><pre><code class="hljs cmd">powershell -noprofile -ex unrestricted &quot;&amp; &#x27;D:\Scoop\apps\scoop\current\bin\scoop.ps1&#x27;  <span class="hljs-variable">%args%</span>;<span class="hljs-keyword">exit</span> $lastexitcode&quot;</code></pre><br>ä¹‹åå‰å¾€ç¯å¢ƒå˜é‡ï¼ŒæŠŠscoopæ·»åŠ çš„ç¯å¢ƒå˜é‡é‡æ–°å®šä½ã€‚å®šä½åˆ°â€D:\Scoopâ€å³å¯ã€‚å®Œæˆä¸Šè¿°å®‰è£…ä¹‹åï¼Œè¿è¡Œ<br><pre><code class="hljs cmd">scoop update</code></pre><br>æ›´æ–°è½¯ä»¶æºï¼Œæ›´æ–°scoopè‡ªå·±ã€‚å°±å¯ä»¥å¼€å§‹æ„‰å¿«çš„ä½¿ç”¨äº†ã€‚</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><div class="table-container"><table><thead><tr><th style="text-align:center">å‘½ä»¤</th><th style="text-align:center">åŠ¨ä½œ</th></tr></thead><tbody><tr><td style="text-align:center">search</td><td style="text-align:center">æœç´¢è½¯ä»¶</td></tr><tr><td style="text-align:center">install</td><td style="text-align:center">å®‰è£…è½¯ä»¶</td></tr><tr><td style="text-align:center">update</td><td style="text-align:center">å‡çº§è½¯ä»¶ï¼Œä¸è·Ÿä¸Šè½¯ä»¶åç§°å³ä¸ºæ›´æ–°scoopæœ¬èº«</td></tr><tr><td style="text-align:center">status</td><td style="text-align:center">æŸ¥çœ‹è½¯ä»¶çŠ¶æ€</td></tr><tr><td style="text-align:center">uninstall</td><td style="text-align:center">å¸è½½è½¯ä»¶ï¼Œå¸è½½scoopä¸ºâ€œscoop uninstall scoopâ€</td></tr><tr><td style="text-align:center">info</td><td style="text-align:center">æŸ¥çœ‹è½¯ä»¶è¯¦æƒ…</td></tr><tr><td style="text-align:center">home</td><td style="text-align:center">æŸ¥çœ‹è½¯ä»¶ä¸»é¡µ</td></tr><tr><td style="text-align:center">list</td><td style="text-align:center">åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶åç§°</td></tr><tr><td style="text-align:center">cache</td><td style="text-align:center">å®‰è£…ï¼Œæ›´æ–°è½¯ä»¶æ—¶çš„ç¼“å­˜ï¼Œå»ºè®®æ›´æ–°åæ¸…ç†</td></tr></tbody></table></div><h2 id="ä¸ºä»€ä¹ˆæ¨èåŒ…ç®¡ç†å™¨"><a href="#ä¸ºä»€ä¹ˆæ¨èåŒ…ç®¡ç†å™¨" class="headerlink" title="ä¸ºä»€ä¹ˆæ¨èåŒ…ç®¡ç†å™¨"></a>ä¸ºä»€ä¹ˆæ¨èåŒ…ç®¡ç†å™¨</h2><p>ã€€ã€€ä½œä¸ºä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œæœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯<em>å®‰è£…è½¯ä»¶</em>ã€‚æ­£åœ¨ä½¿ç”¨ Windows çš„ä½ ä¸€å®šåœ¨æƒ³ï¼šã€Œä¸ºä»€ä¹ˆæˆ‘è¦ç”¨å®ƒï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä¸ç›´æ¥ç™¾åº¦ä¸€ä¸‹ï¼Ÿã€ã€‚<br>ã€€ã€€å½“ç„¶å¯ä»¥</p><ul><li>ç™¾åº¦ä¸€ä¸‹è¿™ä¸ªè½¯ä»¶</li><li>ç„¶ååœ¨ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„ä¸‹è½½é“¾æ¥ä¸­å¾˜å¾Š</li><li>çœ‹åˆ°ä¸€ä¸ªçœ‹ä¸Šå»æœ€æ— æ¯’ï¼Œæœ€æ²¡æœ‰æ†ç»‘çš„å®‰è£…åŒ…</li><li>å°å¿ƒç¿¼ç¿¼çš„é¿å¼€æµæ°“ç‰¹æ€§</li><li>é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å®‰è£…ä½ç½®ï¼Œé˜²æ­¢åˆ°å¤„æ‹‰å±</li><li>ç»“æŸ</li></ul><p>å¥½éº»çƒ¦çš„å®‰è£…ï¼ï¼</p><p>ã€€ã€€Scoop ç­‰ä¸€ç³»åˆ—åŒ…ç®¡ç†å™¨çš„è¯ç”Ÿï¼Œç¬¬ä¸€å¤§ä¾¿åˆ©å°±æ˜¯çœå»äº†ä¸Šè¿°ç¹ççš„ã€Œæœç´¢ - ä¸‹è½½ - å®‰è£…ã€çš„æ­¥éª¤ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ã€Œä¸€è¡Œä»£ç ã€æ€¥é€Ÿå®‰è£…ã€‚ğŸ’ª</p><p>åŒæ—¶ï¼Œç”¨Scoopæ¥å®‰è£…å’Œç®¡ç†æˆ‘ä»¬çš„è½¯ä»¶ï¼š</p><ul><li>é›†æœç´¢ã€ä¸‹è½½ã€å®‰è£…ã€æ›´æ–°äºä¸€ä½“ï¼›æå¤§çš„é™ä½äº†å®‰è£…ç»´æŠ¤ä¸€ä¸ªè½¯ä»¶çš„æˆæœ¬ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦åœ¨è½¯ä»¶å¤æ‚çš„èœå•ä¸­æ‰¾åˆ°æ›´æ–°æŒ‰é’®ï¼Œä¹Ÿä¸ä¼šæœ‰çƒ¦äººçš„å¼¹çª—æé†’ä½ æ›´æ–°</li><li>å°†è½¯ä»¶å¹²å¹²å‡€å‡€çš„å®‰è£…åˆ°ç”µè„‘çš„{ç”¨æˆ·æ–‡ä»¶å¤¹}ä¸‹ï¼šæ—¢ä¸ä¼šæ±¡æŸ“è·¯å¾„ï¼Œä¹Ÿä¸ä¼šè¯·æ±‚ä¸å¿…è¦çš„æƒé™ã€‚</li><li>å¸è½½è½¯ä»¶ä¹Ÿèƒ½å¤Ÿå°½å¯èƒ½çš„æ¸…ç©ºè½¯ä»¶ä»»ä½•æ•°æ®</li><li>æœ‰ä¸€äº›å¿…è¦ä½†æ˜¯å®‰è£…ä¸å®¹æ˜“çš„è½¯ä»¶ä¾‹å¦‚gdbä¹Ÿèƒ½å¤Ÿä¸€é”®è§£å†³</li></ul><h2 id="èƒ¡è¯Œä¸¤å¥"><a href="#èƒ¡è¯Œä¸¤å¥" class="headerlink" title="èƒ¡è¯Œä¸¤å¥"></a>èƒ¡è¯Œä¸¤å¥</h2><p>ã€€ã€€scoopå­¦çš„å¥½ï¼Œç†è®ºä¸Šå¯ä»¥ç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼Œè£…å®Œç³»ç»Ÿä¹‹åï¼Œåªéœ€è¦è½»æ¾ä¸€ç‚¹è„šæœ¬ï¼Œå°±è‡ªåŠ¨æŠŠå¸¸ç”¨è½¯ä»¶å®‰è£…ä¸Šï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>help</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹¿å·åœ°é“çº¿è·¯è§„åˆ’</title>
    <link href="/peachskin/2020/12/01/%E5%B9%BF%E5%B7%9E%E5%9C%B0%E9%93%81%E7%BA%BF%E8%B7%AF%E8%A7%84%E5%88%92/"/>
    <url>/peachskin/2020/12/01/%E5%B9%BF%E5%B7%9E%E5%9C%B0%E9%93%81%E7%BA%BF%E8%B7%AF%E8%A7%84%E5%88%92/</url>
    
    <content type="html"><![CDATA[<center><font size="8">Dijkstraç®—æ³•åº”ç”¨</font><font size="0">å¹¿å·åœ°é“çº¿è·¯è§„åˆ’ç¨‹åºï¼ˆæ¥è‡ªQhyçš„ä½œä¸šï¼‰</font></center><h1 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h1><p>ã€€ã€€æ•°æ®ç»“æ„ä½œä¸šçš„æœŸæœ«ä½œä¸šï¼Œè¦æ±‚è®¾è®¡ä¸€ä¸ªå¹¿å·åœ°é“çº¿è·¯è§„åˆ’ç¨‹åºã€‚è¾“å…¥å‡ºå‘ç«™ç‚¹å’Œç›®çš„ç«™ç‚¹ï¼Œè¾“å‡ºæœ€çŸ­ä¹˜åè·¯å¾„å’Œæ¢ä¹˜çº¿è·¯æ–¹æ³•ã€‚</p><p>ã€€ã€€è¿™é¡¹ä½œä¸šæ˜¯å¯¹æœ¬å­¦æœŸæ‰€å­¦çš„æ•°æ®ç»“æ„ä¸€ä¸ªç»¼åˆè€ƒéªŒï¼Œæ¯”èµ·Dijkstraç®—æ³•ï¼Œå¦‚ä½•å­˜å‚¨åœ°é“çº¿è·¯å›¾ï¼Œå¦‚ä½•å°†ç«™ç‚¹åç§°è¾“å‡ºï¼Œå¦‚ä½•å­˜å‚¨å›¾ã€å»ºç«‹å›¾ï¼Œå¦‚ä½•å°†ä¸­æ–‡å­—ç¬¦å¯¹åº”åˆ°ä¸€ä¸ªå¯ä»¥è®¡ç®—ä½¿ç”¨çš„æ•°å­—ï¼Œä»¥åŠçº¿è·¯æ›´æ–°çš„è€ƒè™‘æ˜¯æœ¬ç¨‹åºéœ€è¦è€ƒè™‘çš„é‡ç‚¹ã€‚</p><h1 id="äºŒã€æ ¸å¿ƒå‡½æ•°"><a href="#äºŒã€æ ¸å¿ƒå‡½æ•°" class="headerlink" title="äºŒã€æ ¸å¿ƒå‡½æ•°"></a>äºŒã€æ ¸å¿ƒå‡½æ•°</h1><h2 id="1ã€ä»ä¸­æ–‡èµ°å‘æ•°å­—"><a href="#1ã€ä»ä¸­æ–‡èµ°å‘æ•°å­—" class="headerlink" title="1ã€ä»ä¸­æ–‡èµ°å‘æ•°å­—"></a>1ã€ä»ä¸­æ–‡èµ°å‘æ•°å­—</h2><p>ã€€ã€€å¹¿å·åœ°é“ä¸Šçš„ç«™ç‚¹éƒ½æ˜¯ä¸­æ–‡å­—ç¬¦ï¼Œå¾ˆæ˜æ˜¾ï¼Œä¸­æ–‡å­—ç¬¦æ— è®ºæ˜¯åˆ¶ä½œæˆé‚»æ¥è¡¨è¿˜æ˜¯é‚»æ¥çŸ©é˜µéƒ½æ˜¯ä¸åˆé€‚çš„ï¼Œå› æ­¤éœ€è¦ä¸€ç§æ–¹æ³•ï¼Œå°†å¹¿å·åœ°é“ä¸Šä¸Šç™¾ä¸ªç«™ç‚¹ä¸€ä¸€è½¬æ¢æˆè®¡ç®—æœºå¯ä»¥ç”¨æ¥è®¡ç®—çš„æ•°å­—ã€‚äººå·¥æ‰‹åŠ¨æ›´æ¢æ˜¯ç»å¯¹çš„ä¸åˆé€‚ï¼Œå…ˆä¸è¯´ä¸Šç™¾ä¸ªç«™ç‚¹çš„æ ‡è®°ååˆ†ç´¯äººï¼Œæ›´åŠ é‡è¦çš„æ˜¯è¿™æ ·çš„ç¨‹åºå®Œå…¨æ²¡æœ‰ä»»ä½•çš„å¯æ‹“å±•æ€§ï¼Œå®ƒå°±ä¸èƒ½é€‚åº”æ–°åŠ çš„åœ°é“ç«™ç‚¹ã€‚<br>ã€€ã€€æ‰€ä»¥ï¼Œç»™ç«™ç‚¹æ‰“æ ‡è®°çš„æ´»è¿˜æ˜¯è¦äº¤ç»™è®¡ç®—æœºå¹²ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå°†åœ°é“ç«™æ‰€æœ‰çš„ç«™ç‚¹å’Œç«™ç‚¹ä¹‹é—´çš„çº¿è·¯æƒå€¼å­˜å‚¨åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å­˜å‚¨æ–¹å¼å¦‚ä¸‹å›¾ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºæ˜¯å“ªä¸€æ¡çº¿è·¯ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºå§‹å‘ç«™ï¼Œç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºç»ˆç‚¹ç«™ï¼Œç¬¬å››ä¸ªæ•°å­—è¡¨ç¤ºè¾¹çš„æƒå€¼ã€‚</p><p><img src="http://img.yuko.buzz/images/2021/03/31/Snipaste_2021-03-31_22-18-34.png"></p><p>ã€€ã€€ç„¶åæ˜¯ä»ä¸Šé¢çš„æ•°æ®æ–‡ä»¶ä¸­å»ºå›¾ï¼Œæ³¨æ„åˆ°è¿™ä¸ªå›¾çš„é‚»æ¥çŸ©é˜µä¼šæ˜¯ä¸€ä¸ªç¨€ç–çŸ©é˜µï¼Œé‡‡ç”¨é‚»æ¥è¡¨çš„æ–¹æ³•å­˜å‚¨å›¾ã€‚éƒ¨åˆ†ç«™ç‚¹å¯èƒ½æ˜¯æ¢ä¹˜ç«™ï¼Œä¸ºå‡å°‘æ¢ä¹˜ç«™å¸¦æ¥çš„å¯èƒ½é—®é¢˜ï¼Œæ­¤å¤„é€‰æ‹©ç»™åŒåç«™ç‚¹åç§°åæ·»åŠ å­—ç¬¦åŠ ä»¥åŒºåˆ«ï¼Œä¾‹å¦‚â€œä¸‡èƒœå›´â€åœ¨4å·çº¿å‡ºç°ä¸€æ¬¡ï¼Œé‚£ä¹ˆåœ¨8å·çº¿å‡ºç°çš„å­˜å‚¨ä¸ºâ€œä¸‡èƒœå›´0â€ä»¥æ­¤ç±»æ¨ã€‚ä½†æ˜¯åœ¨è¿™æ ·çš„å¤„ç†æ–¹æ³•ä¼šå¯¼è‡´å„æ¡çº¿è·¯ä¹‹é—´ä¸è¿é€šï¼Œå’ŒçœŸå®çš„åœ°é“çº¿è·¯ä¸ç¬¦åˆï¼Œæ‰€ä»¥åœ¨æ¢ä¹˜ç«™ä¹‹é—´æ·»åŠ ä¸€æ¡è¾¹æƒä¸º0çš„è¾¹è¿é€šã€‚<br>ã€€ã€€é™¤æ­¤ä¹‹å¤–æ®µç¨‹åºè¿˜åšä¸‰ä»¶äº‹æƒ…ï¼Œä¸€ä¸ªæ˜¯ç»™æ¯ä¸€ä¸ªç«™ç‚¹èµ‹äºˆä¸€ä¸ªç‹¬ç‰¹çš„idï¼Œç”¨äºç¨‹åºè®¡ç®—ï¼›äºŒæ˜¯å»ºç«‹ä¸€ä¸ªidåˆ°æ–‡æœ¬çš„æ˜ å°„ï¼Œæ–¹ä¾¿æ–‡æœ¬è¾“å‡ºçº¿è·¯ï¼›ä¸‰æ˜¯å»ºç«‹ä¸€ä¸ªæ–‡æœ¬åˆ°idçš„æ˜ å°„ï¼Œæ–¹ä¾¿å°†æ”¶åˆ°çš„å‡ºå‘ç«™å’Œç»ˆç‚¹ç«™è½¬æ¢ä¸ºå†…ç½®idã€‚<br> <pre><code class="hljs c++"> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">subway_system::readData</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;edge&gt; &amp;edges)</span></span><span class="hljs-function"></span>&#123;<span class="hljs-comment">// string a;</span><span class="hljs-comment">// cin &gt;&gt; a;</span><span class="hljs-function">ifstream <span class="hljs-title">fin</span><span class="hljs-params">(<span class="hljs-string">&quot;srcdata&quot;</span>)</span></span>;<span class="hljs-keyword">int</span> distance, ID[<span class="hljs-number">2</span>];<span class="hljs-built_in">string</span> line, station[<span class="hljs-number">2</span>];<span class="hljs-keyword">while</span> (fin &gt;&gt; line &gt;&gt; station[<span class="hljs-number">0</span>] &gt;&gt; station[<span class="hljs-number">1</span>] &gt;&gt; distance)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)&#123;<span class="hljs-keyword">auto</span> findStation = Stations.find(station[i]);<span class="hljs-comment">//æŸ¥æ‰¾ä¸åˆ°è¿™ä¸ªç«™ç‚¹</span><span class="hljs-keyword">if</span> (findStation == Stations.end())&#123;ID[i] = Stations.size();Stations[station[i]] = <span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;(line, ID[i]);station_name.push_back(station[i]);&#125;<span class="hljs-comment">//è¯¥ç«™ç‚¹åœ¨æœ¬çº¿è·¯ä¸Šå·²ç»å‡ºç°</span><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((*findStation).second.first == line)ID[i] = Stations[station[i]].second;<span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªæ¢ä¹˜ç«™ç‚¹</span><span class="hljs-keyword">else</span>&#123;<span class="hljs-built_in">string</span> it_name = station[i];<span class="hljs-keyword">char</span> c = <span class="hljs-string">&#x27;1&#x27;</span>;station[i] += c;<span class="hljs-keyword">auto</span> it = Stations.find(station[i]);<span class="hljs-keyword">while</span> (it != Stations.end() &amp;&amp; (*it).second.first != line)&#123;station[i].back() = ++c;it = Stations.find(station[i]);&#125;<span class="hljs-keyword">if</span> (it == Stations.end())&#123;ID[i] = Stations.size();Stations[station[i]] = <span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;(line, ID[i]);station_name.push_back(station[i]);&#125;<span class="hljs-keyword">else</span>ID[i] = Stations[station[i]].second;edges.push_back(edge(ID[i], Stations[it_name].second, <span class="hljs-number">0</span>));<span class="hljs-comment">//å¢åŠ è¾¹æƒä¸º0çš„è¾¹</span>&#125;&#125;edges.push_back(edge(ID[<span class="hljs-number">0</span>], ID[<span class="hljs-number">1</span>], distance));&#125;n = edges.size() + <span class="hljs-number">1</span>;fin.close();<span class="hljs-comment">//cout &lt;&lt; Stations.size() &lt;&lt; endl;</span><span class="hljs-keyword">return</span>;&#125;</code></pre></p><h2 id="2ã€èŠ‚ç‚¹å­˜å‚¨"><a href="#2ã€èŠ‚ç‚¹å­˜å‚¨" class="headerlink" title="2ã€èŠ‚ç‚¹å­˜å‚¨"></a>2ã€èŠ‚ç‚¹å­˜å‚¨</h2><p> ã€€ã€€åœ°é“ç«™ç‚¹ä¸Šæ˜¯ä¼šæœ‰éå¸¸å¤šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´å®ƒåœ¨æœ¬ç¨‹åºä¸­çš„idï¼Œæ–¹ä¾¿Dijkstraç®—æ³•å¿…é¡»çš„disæ•°æ®ï¼Œboolç±»å‹çš„knownï¼Œå› æ­¤ç»“æ„åŒ–ä¸ºä¸€ä¸ªæ•°æ®ä½“<br><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vertex</span></span><span class="hljs-class">&#123;</span><span class="hljs-keyword">size_t</span> dis;<span class="hljs-comment">//æœ€çŸ­è·¯å¾„ç®—æ³•ä½¿ç”¨</span><span class="hljs-keyword">int</span> id;<span class="hljs-comment">//åœ¨ç¨‹åºä¸­çš„id</span><span class="hljs-keyword">int</span> path;<span class="hljs-comment">//çˆ¶èŠ‚ç‚¹ï¼Œè¾“å‡ºä»æ¢ä¹˜çº¿è·¯ä½¿ç”¨</span><span class="hljs-keyword">bool</span> known;<span class="hljs-comment">//æ ‡è®°æ˜¯å¦å·²ç»è¢«æœç´¢åˆ°</span><span class="hljs-keyword">bool</span> popped;<span class="hljs-comment">//è¾“å‡ºçº¿è·¯ä½¿ç”¨</span>vertex() : dis(inf), known(<span class="hljs-literal">false</span>), popped(<span class="hljs-literal">false</span>) &#123;&#125;&#125;;</code></pre></p><h2 id="3ã€æœ€çŸ­è·¯å¾„"><a href="#3ã€æœ€çŸ­è·¯å¾„" class="headerlink" title="3ã€æœ€çŸ­è·¯å¾„"></a>3ã€æœ€çŸ­è·¯å¾„</h2><p>ã€€ã€€æ ‡å‡†çš„Dijkstraç®—æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚æœ¬æ®µå‡½æ•°ä¼šæ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªè®°å½•äº†æœ€çŸ­è·¯å¾„èµ°æ³•çš„vectoræ•°ç»„ï¼Œä»ç›®çš„åœ°å‰å¾€å§‹å‘ç‚¹ã€‚å› æ­¤åœ¨æ­£å¼è½¬åŒ–è¾“å‡ºä¹‹å‰ï¼Œè¿˜éœ€è¦å€’ç½®ã€‚<br><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">subway_system::getShortestPath</span><span class="hljs-params">(<span class="hljs-keyword">int</span> origin, <span class="hljs-keyword">int</span> destination)</span></span><span class="hljs-function"></span>&#123;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt; known;<span class="hljs-comment">//initialize</span><span class="hljs-built_in">vector</span>&lt;vertex&gt; nodes;nodes.resize(n);<span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; nodes.size(); i++)&#123;nodes[i].id = i;nodes[i].path = i;nodes[i].popped = <span class="hljs-literal">false</span>;&#125;nodes[origin].dis = <span class="hljs-number">0</span>;nodes[origin].known = <span class="hljs-literal">true</span>;nodes[origin].path = origin;known.insert(origin);<span class="hljs-comment">//calculating</span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>, min_dis = inf;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;entry : known)<span class="hljs-keyword">if</span> (!(nodes[entry].popped) &amp;&amp; nodes[entry].dis &lt; min_dis)&#123;min_dis = nodes[entry].dis;index = entry;&#125;<span class="hljs-keyword">if</span> (index == destination)<span class="hljs-keyword">break</span>;<span class="hljs-comment">//cout &lt;&lt; station_name[index] &lt;&lt; &quot; &quot;;</span>nodes[index].popped = <span class="hljs-literal">true</span>;vertex u = nodes[index];<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;entry : E[u.id])&#123;<span class="hljs-keyword">if</span> (!nodes[entry.first].known)&#123;<span class="hljs-keyword">if</span> (nodes[entry.first].dis &gt; nodes[u.id].dis + entry.second)&#123;nodes[entry.first].known = <span class="hljs-literal">true</span>;known.insert(entry.first);nodes[entry.first].dis = nodes[u.id].dis + entry.second;nodes[entry.first].path = u.id;&#125;&#125;&#125;&#125;<span class="hljs-keyword">if</span> (nodes[destination].known == <span class="hljs-literal">false</span>)&#123;<span class="hljs-keyword">return</span> res;&#125;<span class="hljs-comment">//get path</span><span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; temp;<span class="hljs-keyword">int</span> cur = destination;temp.push(cur);<span class="hljs-keyword">while</span> (nodes[cur].path != origin)&#123;cur = nodes[cur].path;temp.push(cur);&#125;temp.push(origin);<span class="hljs-keyword">while</span> (!temp.empty())&#123;res.push_back(temp.top());temp.pop();&#125;<span class="hljs-keyword">return</span> res;&#125;</code></pre></p><h2 id="4ã€è¾“å‡ºç»“æœ"><a href="#4ã€è¾“å‡ºç»“æœ" class="headerlink" title="4ã€è¾“å‡ºç»“æœ"></a>4ã€è¾“å‡ºç»“æœ</h2><p>ã€€ã€€åœ¨ä¸Šä¸€ä¸ªå‡½æ•°è·å¾—äº†æœ€çŸ­è·¯å¾„çš„idã€‚äººæ˜¯çœ‹ä¸æ‡‚è¿™æ ·ä¸€ä¸ªæ•°ç»„æœ‰ä»»ä½•çš„å…³ç³»ï¼Œå› æ­¤è¿˜éœ€è¦ä¸€ä¸ªè¾“å‡ºå‡½æ•°ï¼Œå°†ä¸€ä¸²æ•°ç»„è½¬æ¢ä¸ºäººå¯ä»¥çœ‹å¾—æ‡‚çš„ç«™ç‚¹è¾“å‡ºï¼Œå¹¶ä¸”è¾“å‡ºæ¢ä¹˜ä¿¡æ¯</p><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">subway_system::checkLine</span><span class="hljs-params">(<span class="hljs-built_in">string</span> oringin, <span class="hljs-built_in">string</span> destination)</span></span><span class="hljs-function"></span>&#123;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; result;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; output;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt;&gt; transform;<span class="hljs-keyword">int</span> ori = <span class="hljs-keyword">this</span>-&gt;Stations[oringin].second;<span class="hljs-keyword">int</span> dest = <span class="hljs-keyword">this</span>-&gt;Stations[destination].second;result = getShortestPath(ori, dest);<span class="hljs-keyword">if</span> (result.size() == <span class="hljs-number">0</span>)&#123;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;ä¸å­˜åœ¨è¿™æ ·ä¸€æ¡é“è·¯&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<span class="hljs-built_in">string</span> a;<span class="hljs-keyword">return</span> a;&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.size(); i++)&#123;output.push_back(del_num(station_name[result[i]]));&#125;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; result.size();i++)&#123;<span class="hljs-keyword">if</span> (del_num(station_name[result[i]]) == del_num(station_name[result[i - <span class="hljs-number">1</span>]]) &amp;&amp; i &gt; <span class="hljs-number">1</span>)&#123;pair&lt;string, string&gt; temp(Stations[station_name[result[i]]].first, Stations[station_name[result[i - 1]]].first);transform.push_back(temp);&#125;&#125;<span class="hljs-built_in">cout</span> &lt;&lt; output[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">&quot;-&gt;&quot;</span>;<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;<span class="hljs-built_in">string</span> all_in_one;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; output.size(); i++)&#123;<span class="hljs-keyword">if</span> (i == output.size() - <span class="hljs-number">1</span>)&#123;all_in_one.append( output[i]);all_in_one.append(<span class="hljs-string">&quot;\n&quot;</span>);&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (output[i] != output[i - <span class="hljs-number">1</span>])&#123;all_in_one.append(output[i]);all_in_one.append(<span class="hljs-string">&quot;-&gt;&quot;</span>);&#125;<span class="hljs-keyword">else</span>&#123;all_in_one.append(<span class="hljs-string">&quot;ä»&quot;</span>);all_in_one.append(transform[j].second);all_in_one.append(<span class="hljs-string">&quot;å·çº¿è½¬åˆ°&quot;</span>);all_in_one.append(transform[j++].first);all_in_one.append(<span class="hljs-string">&quot;å·çº¿\n&quot;</span>);&#125;&#125;<span class="hljs-built_in">cout</span> &lt;&lt; all_in_one;<span class="hljs-built_in">std</span>::system(<span class="hljs-string">&quot;pause&quot;</span>);<span class="hljs-keyword">return</span> all_in_one;&#125;</code></pre><h1 id="ä¸‰ã€å…¶ä»–è¾¹ç¼˜å‡½æ•°"><a href="#ä¸‰ã€å…¶ä»–è¾¹ç¼˜å‡½æ•°" class="headerlink" title="ä¸‰ã€å…¶ä»–è¾¹ç¼˜å‡½æ•°"></a>ä¸‰ã€å…¶ä»–è¾¹ç¼˜å‡½æ•°</h1><h2 id="1ã€åˆ æ‰ç«™ç‚¹åç§°åçš„æ•°å­—"><a href="#1ã€åˆ æ‰ç«™ç‚¹åç§°åçš„æ•°å­—" class="headerlink" title="1ã€åˆ æ‰ç«™ç‚¹åç§°åçš„æ•°å­—"></a>1ã€åˆ æ‰ç«™ç‚¹åç§°åçš„æ•°å­—</h2><p>ã€€ã€€æœ¬é¡¹å…¶å®é—®é¢˜ä¸å¤§ï¼Œä¸»è¦æ˜¯é’ˆå¯¹å¼ºè¿«ç—‡çš„ï¼Œå¯¹äººæ¥è¯´ï¼Œå¤šä¸ªæ•°å­—ä¸€æ ·èƒ½çœ‹<br><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">del_num</span><span class="hljs-params">(<span class="hljs-built_in">string</span> a)</span></span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.size(); i++)&#123;<span class="hljs-keyword">if</span> (a[i] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; a[i] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)&#123;a.erase(i, <span class="hljs-number">1</span>);&#125;&#125;<span class="hljs-keyword">return</span> a;&#125;</code></pre></p><h2 id="2ã€å»ºå›¾"><a href="#2ã€å»ºå›¾" class="headerlink" title="2ã€å»ºå›¾"></a>2ã€å»ºå›¾</h2><p>ã€€ã€€è®²çœŸï¼Œä¸Šé¢æ‰€è°“çš„å»ºå›¾ï¼Œå…¶å®åªæ˜¯å®Œæˆäº†è¾¹çš„è¯»å…¥ï¼Œå¹¶æ²¡æœ‰å»ºç«‹ä¸€ä¸ªé‚»æ¥è¡¨ï¼Œè¿™æ®µå‡½æ•°çš„ç›®çš„å°±æ˜¯ä»è¾¹å»ºç«‹ä¸€ä¸ªå¯ä»¥è¢«æœ€çŸ­è·¯å¾„ç®—æ³•ä½¿ç”¨çš„é‚»æ¥è¡¨<br><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span>//è¾¹çš„æ•°æ®ç»“æ„</span><span class="hljs-class">&#123;</span><span class="hljs-keyword">int</span> u, v, w;edge(<span class="hljs-keyword">int</span> U, <span class="hljs-keyword">int</span> V, <span class="hljs-keyword">int</span> W = inf) :u(U), v(V), w(W) &#123;  &#125;&#125;;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">subway_system::makeGraph</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;edge&gt; &amp;edges)</span></span><span class="hljs-function"></span>&#123;<span class="hljs-built_in">list</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; tmp;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = Stations.size(); i--;)<span class="hljs-comment">//å‡ æ¡çº¿è·¯</span>E.push_back(tmp);<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;item : edges)&#123;E[item.u].push_back(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(item.v, item.w));E[item.v].push_back(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(item.u, item.w));&#125;&#125;</code></pre></p><h1 id="å››ã€å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#å››ã€å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="å››ã€å…¶ä»–æ³¨æ„äº‹é¡¹"></a>å››ã€å…¶ä»–æ³¨æ„äº‹é¡¹</h1><p>ã€€ã€€ä¹Ÿå°±æ˜¯å°½é‡ä¸è¦åœ¨windowçš„ç»ˆç«¯ä¸Šè¿è¡Œï¼Œæˆ–è€…åœ¨ç¼–è¯‘ä¹‹å‰å°†<a href="https://github.com/peach-water/guangzhou_subway">æºä»£ç </a>è½¬æ¢ä¸ºGBKç¼–ç ï¼Œä¸ç„¶ç»ˆç«¯çœ‹è§çš„åªæœ‰ä¸€ç‰‡ä¹±ç ã€‚</p><h1 id="äº”ã€å›æƒ³ï¼Œé¸£è°¢"><a href="#äº”ã€å›æƒ³ï¼Œé¸£è°¢" class="headerlink" title="äº”ã€å›æƒ³ï¼Œé¸£è°¢"></a>äº”ã€å›æƒ³ï¼Œé¸£è°¢</h1><p>ã€€ã€€æœ¬ä»£ç ä¸»è¦æ¥è‡ªgithubä¸Šæ˜ŠCå’Œä»–çš„èˆå‹å¤§ä½¬ã€‚æœ€åˆçš„ç‰ˆæœ¬å› ä¸ºæœ‰ä¸€ç‚¹ç‚¹å°é—®é¢˜ï¼Œæ²¡æœ‰è§£å†³0æƒå€¼è¾¹çš„é—®é¢˜ï¼Œå¯¼è‡´åœ¨æµ‹è¯•çš„æ—¶å€™ç»å¸¸å´©ç”µè„‘ï¼ˆåæ¥æŸ¥å®æ˜¯å› ä¸ºä¸€ç›´å‹æ ˆæœ€åçˆ†å†…å­˜äº†ï¼‰ã€‚ä»”ç»†æ’æŸ¥æ‰æœ€åå‘ç°ï¼ŒåŸæ¥æ˜¯å»ºå›¾çš„æ—¶å€™ï¼Œæ²¡æœ‰ç»™æ¢ä¹˜ç«™ä¸€ä¸ªä»–ä»¬ä¹‹é—´è¿çº¿ï¼Œå¯¼è‡´åœ¨è¾“å‡ºçš„æ—¶å€™ä¸€ç›´å‹æ ˆï¼Œå› ä¸ºæ²¡æœ‰åˆ°è¾¾ç›®çš„åœ°ã€‚ä½†æ˜¯å…¶ä»–éƒ¨åˆ†å®ç°çš„è¿˜æ˜¯éå¸¸å®Œç¾ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SYSU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Download</title>
    <link href="/peachskin/2020/11/01/download/"/>
    <url>/peachskin/2020/11/01/download/</url>
    
    <content type="html"><![CDATA[<center><font size='8'>å°±ç®—æ˜¯æ‘¸é±¼ä¹Ÿè¦å¥½å¥½çš„æ‘¸</font></center><h2 id="å¥½è½¯æ¨è"><a href="#å¥½è½¯æ¨è" class="headerlink" title="å¥½è½¯æ¨è"></a>å¥½è½¯æ¨è</h2><ul><li><p>ä¸€ä¸ªå¥½ä½¿çš„å›¾ç‰‡æµè§ˆå™¨ï¼š<a href="https://tw.bandisoft.com/honeyview/">honeyview</a><br>ã€€ã€€çƒ¦æ¼å¾®è½¯å®¶è‡ªå¸¦çš„å›¾ç‰‡æµè§ˆå™¨éš¾ç”¨ï¼Ÿè‹¦äºè‡ªå¸¦çš„å›¾ç‰‡æµè§ˆå™¨æ‰“å¼€é€Ÿåº¦æ€»æ˜¯æ‰æ€¥ï¼Ÿé‚£ä¹ˆå®ƒå¿…ç„¶æ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ã€‚</p></li><li><p>æ—¢ç„¶éƒ½æœ‰å›¾ç‰‡äº†ï¼Œæ€ä¹ˆèƒ½å¤Ÿæ²¡æœ‰ä¸€ä¸ªä¼˜ç§€çš„è§†é¢‘æ’­æ”¾å™¨ï¼š<a href="https://potplayer.en.softonic.com/">PotPlayer</a><br>ã€€ã€€å…‰è¿™ä¸ªå…¶å®è¿˜ä¸èƒ½å¤Ÿè¯´æ˜å®ƒçš„å¼ºå¤§ä¹‹å¤„ï¼Œ~ä½ å¯èƒ½åªä¼šè§‰å¾—ä»–æ˜¯ä¸€ä¸ªå¤–è§‚ä¸‘é™‹çš„è§†é¢‘æ’­æ”¾å™¨ï¼Œæ­é…ä¸Šä¸€ä¸ªç¥ç§˜çš„ç½‘å€ï¼Œä½ å°±èƒ½å¤Ÿè§‚çœ‹å…¨çƒç”µè§†ç›´æ’­ï¼Œè‡³å°‘å›½å†…ä¸­å¤®å°éƒ½æ˜¯å¯ä»¥çœ‹çš„~é™¤æ­¤ä¹‹å¤–å°±æ˜¯ï¼Œå¥½çœ‹æ— è¾¹æ¡†ï¼ˆéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ï¼‰ï¼Œå¦‚æœä¸‹è½½ä¸åˆ°ï¼Œåœ¨scoopé‡Œé¢è¯•è¯•ï¼Ÿ</p></li><li><p>æ–‡ä»¶èµ„æºæµè§ˆå™¨æ¨èï¼š<a href="http://qttabbar.sourceforge.net/">QTTabBar</a><br>ã€€ã€€è™½ç„¶ä¸æ˜¯å¾ˆå¥½çœ‹ï¼Œç”šè‡³å¯ä»¥è¯´åŠ çš„å†…å®¹è¿˜æœ‰ä¸€äº›ä¸‘é™‹ï¼Œä½†æ˜¯å°±é‚£ä¸€ç‚¹èƒ½å¤Ÿæ”¯æŒæ–°å»ºæ ‡ç­¾é¡µï¼Œæˆ‘å°±è§‰å¾—æ¯”è‡ªå¸¦çš„æ–‡ä»¶æµè§ˆå™¨å¥½ä½¿ã€‚è‡³å°‘ä¸ç”¨å†å¾ˆå¤šä¸ªä¸çŸ¥é“æ‰€ä»¥çš„çª—å£ä¸­å¯»å¯»è§…è§…ï¼Œæœ€æœ€æœ€é‡è¦çš„æ˜¯æ”¯æŒåœ¨æ­¤å¤„æ‰“å¼€CMDï¼Œè¿™å®åœ¨æ˜¯å¥½ä½¿ã€‚</p></li><li><p>è½¯ä»¶å¸è½½å™¨ï¼š<a href="https://www.iobit.com/en/index.php">IOBit Uninstall</a><br>ã€€ã€€è¿˜æ˜¯å¼¥è¡¥è‡ªå¸¦çš„è½¯ä»¶å¸è½½çš„ä¸è¶³ï¼Œè‡ªå¸¦çš„èƒ½å¸è½½è½¯ä»¶ï¼Œå¯¹ï¼å°±æ˜¯èƒ½å¤Ÿå¸è½½è½¯ä»¶ï¼Œè‡³äºè½¯ä»¶ç•™ä¸‹æ¥çš„æ•°æ®ï¼ŒæŠ±æ­‰ä¸€æ¦‚ä¸ä¼šåˆ é™¤ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦è¯·å‡ºæ¥å®ƒã€‚å¯¹äº†æœ‰äº›æ—¶å€™å¹¶ä¸æ˜¯æ‰€æœ‰çš„éƒ½è½¯ä»¶å¸è½½éƒ½éœ€è¦æ¸…ç†æ•°æ®æ–‡ä»¶ï¼Œè¿˜æ˜¯åœ¨æ¸…ç†ä¹‹å‰å¥½åšæ€è€ƒã€‚é™¤æ­¤ä¹‹å¤–å°±æ˜¯æ™®é€šç‰ˆæœ¬å·²ç»è¶³å¤Ÿæ™®é€šäººæ—¥å¸¸ä½¿ç”¨ï¼Œæ²¡æœ‰åŠ é’±ä¸Šä¸“ä¸šç‰ˆçš„å¿…è¦ï¼ˆå½“ç„¶æ˜¯å¯ä»¥å»æ”¯æŒä¸€ä¸‹çš„å•¦~ï¼‰</p></li><li><p>é‡è£…ç³»ç»Ÿçš„å·¥å…·ï¼š<a href="http://www.wepe.com.cn/">å¾®PE</a><br>ã€€ã€€é‡è£…ç³»ç»Ÿå½“ç„¶æ¨èï¼Œè™½ç„¶ç°åœ¨æœ‰ç‚¹å˜åŒ–ï¼Œå¼€å§‹æ”¶è´¹äº†ã€‚ä½†æ˜¯è‡³å°‘ä¸æµæ°“ï¼Œè€Œä¸”æ”¶è´¹ä¹Ÿä¸ç®—å¤ªè´µï¼Œå…¶å®å§ï¼Œå°±ç®—ä¹°ä¸€ä¸ªè½¯ç¢Ÿé€šä¹Ÿä¸è§å¾—èƒ½å¤Ÿæœ‰å¤šå°‘ä¾¿å®œï¼ˆæ”¯æŒä¸€ä¸‹è‰¯å¿ƒå¼€å‘è€…å‘—ï¼‰ã€‚æœ‰äº†å®ƒï¼Œä»æ­¤ä¹‹åè·å¾—ä¸€Uåœ¨æ‰‹ï¼Œå¤©ä¸‹æˆ‘æœ‰ï¼›æ‰“å¼€å¥³ç”Ÿå®¿èˆå¤§é—¨çš„ä¸‡èƒ½é’¥åŒ™ï¼›ä¸‡èƒ½çš„å·¥å…·äººï¼ˆè¯¯ï¼‰ç­‰ç­‰ç§°å·</p></li><li><p>å®‡å®™æœ€å¼ºIDEï¼š<a href="https://peach-water.github.io/peachskin/2020/10/11/vscode/">VsCode</a>  </p></li><li><p>ç¾åŒ–æ¡Œé¢çš„æ–¹æ³•ï¼š<a href="https://www.rainmeter.net/">Rainmeter</a><br>ã€€ã€€èƒ½å¤Ÿåšåˆ°ä»€ä¹ˆæ ·å­å®Œå…¨çœ‹è‡ªå·±æŠ˜è…¾èƒ½åŠ›ï¼Œæœ€å¥½å½“ç„¶æ˜¯è‡ªå·±æ…¢æ…¢è®¾è®¡~<br>ã€€ã€€å»ºè®®æ­é…è´´å§ä¸Šä¸€ä¸ª<a href="http://tieba.baidu.com/p/2085771413?see_lz=1">èµ„æºå¸–å­</a>å®ç°</p></li><li><p>ä¸€ä¸ªå°ç™½å‘å†™é•œåƒå·¥å…·ï¼š<a href="https://www.balena.io/etcher/">balenaEtcher</a><br>ã€€ã€€æˆ‘è®°å¾—æ˜¯å¤§éƒ¨åˆ†çš„é•œåƒéƒ½å¯ä»¥å†™ï¼Œæ›´æ›´æ›´é‡è¦çš„æ˜¯çœŸçš„å°ç™½å‘ï¼Œå“ªæ€•ä½ å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆæ“ä½œï¼Œå¯¹äºä¸åŒç³»ç»Ÿçš„é•œåƒæ— æ‰€é€‚ä»ï¼Œéƒ½ä¸è¦æ‹…å¿ƒï¼Œè¿™ä¸ªå¯ä»¥è§£å†³ä½ çš„é—®é¢˜ã€‚</p><center><img src="https://www.balena.io/static/steps-8006dca57323756b1b84fb9408742409.gif"></center></li><li><p>å¼ºå¤§çš„windowsåŒ…ç®¡ç†å™¨ï¼š<a href="https://scoop.sh/">SCOOP</a><br>ã€€ã€€linuxæœ‰aptåŒ…ç®¡ç†å™¨ï¼ŒMACæœ‰homebrewï¼Œå¤§åé¼é¼çš„windowså‘¢ï¼Ÿæ€ä¹ˆèƒ½å¤Ÿæ²¡æœ‰ä¸€ä¸ªåˆé€‚çš„åŒ…ç®¡ç†å™¨ï¼Ÿäºæ˜¯scoopåº”è¿è€Œç”Ÿï¼Œå†ä¹Ÿä¸ç”¨ä¸ºwindowsç¯å¢ƒä¸‹å®‰è£…C++ç¯å¢ƒæˆ–è€…å„ç§ç¯å¢ƒå‘æ„äº†ï¼Œè¿åŒåŠ å…¥PATHä¸€èµ·å®Œæˆã€‚<br>ã€€ã€€ç½‘å€ä¸­æœ‰ç®€è¦çš„å®‰è£…æ–¹æ³•ï¼Œå¦‚æœä¸è¡Œï¼Œæ²¡å…³ç³»ï¼Œ~ç™¾åº¦æœ‰éå¸¸å¤šçš„æ–¹æ³•å¸®åŠ©ä½ è§£å†³æ‰€æœ‰é—®é¢˜~ä¹Ÿè®¸åº”è¯¥æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯ç®¡ç†å‘˜èº«ä»½ï¼ˆæˆ‘è¯´çš„åªæ˜¯ä¹Ÿè®¸å•Šï¼Œè‡³å°‘ï¼Œäººä¸èƒ½ï¼Œä¸åº”è¯¥ï¼‰ã€‚</p></li></ul><h2 id="èµ„æºç«™"><a href="#èµ„æºç«™" class="headerlink" title="èµ„æºç«™"></a>èµ„æºç«™</h2><ul><li>GAYHUBï¼Œå…¨çƒæœ€å¤§çš„ä»£ç äº¤æµå¹³å°ï¼š<a href="https://github.com">Github</a></li><li>æ¡Œé¢ç¾åŒ–æ•™ç¨‹èµ„æºï¼š<a href="https://zhutix.com/tag/10s/">è‡´ç¾åŒ–</a></li><li>ç¨‹åºå‘˜å·¥å…·ï¼š<a href="http://t.swifty.cc/md5/index.html">åœ¨çº¿åŠ å¯†è§£å¯†å·¥å…·</a></li><li>åŸŸåæŸ¥è¯¢ã€IP4æŸ¥è¯¢ï¼š<a href="https://site.ip138.com/">å…¶å®ä¸æ­¢ä»åŸŸåæŸ¥IP4</a></li></ul><h2 id="å…¶ä»–æ‚é¡¹"><a href="#å…¶ä»–æ‚é¡¹" class="headerlink" title="å…¶ä»–æ‚é¡¹"></a>å…¶ä»–æ‚é¡¹</h2><center><font size = '0'>æœ€åæ›´æ–°æ—¶é—´2020å¹´10æœˆ25æ—¥22:24</font></center>]]></content>
    
    
    
    <tags>
      
      <tag>source</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Huffman</title>
    <link href="/peachskin/2020/11/01/Huffman/"/>
    <url>/peachskin/2020/11/01/Huffman/</url>
    
    <content type="html"><![CDATA[<center><font size='6'>ä½¿ç”¨Huffmanç¼–ç å®ç°ä¸€ä¸ªå‹ç¼©å’Œè§£å‹ç¼©è½¯ä»¶</font></center>  <h2 id="åˆè¯†Huffman"><a href="#åˆè¯†Huffman" class="headerlink" title="åˆè¯†Huffman"></a>åˆè¯†Huffman</h2><p>ã€€ã€€ç®€å•è¯´æ˜ä¸€ä¸‹Huffmanç¼–ç çš„åŸç†<br>  ã€€ã€€å®ç°éœå¤«æ›¼ç¼–ç çš„æ–¹å¼ä¸»è¦æ˜¯åˆ›å»ºä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶èŠ‚ç‚¹ã€‚è¿™äº›æ ‘çš„èŠ‚ç‚¹å¯ä»¥å­˜å‚¨åœ¨æ•°ç»„é‡Œï¼Œæ•°ç»„çš„å¤§å°ä¸ºç¬¦å·ï¼ˆsymbolsï¼‰æ•°çš„å¤§å°nï¼Œè€ŒèŠ‚ç‚¹åˆ†åˆ«æ˜¯ç»ˆç«¯èŠ‚ç‚¹ï¼ˆå¶èŠ‚ç‚¹ï¼‰ä¸éç»ˆç«¯èŠ‚ç‚¹ï¼ˆå†…éƒ¨èŠ‚ç‚¹ï¼‰ã€‚</p><p>ã€€ã€€ä¸€å¼€å§‹ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯ç»ˆç«¯èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å†…æœ‰ä¸‰ä¸ªå­—æ®µï¼š</p><p>ã€€ã€€1.ç¬¦å·ï¼ˆSymbolï¼‰</p><p>ã€€ã€€2.æƒé‡ï¼ˆWeightã€Probabilitiesã€Frequencyï¼‰</p><p>ã€€ã€€3.æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„é“¾æ¥ï¼ˆLink to its parent nodeï¼‰</p><p>ã€€ã€€è€Œéç»ˆç«¯èŠ‚ç‚¹å†…æœ‰å››ä¸ªå­—æ®µï¼š</p><p>ã€€ã€€1.æƒé‡ï¼ˆWeightã€Probabilitiesã€Frequencyï¼‰</p><p>ã€€ã€€2.æŒ‡å‘ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ é“¾æ¥ï¼ˆLinks to two child nodeï¼‰</p><p>ã€€ã€€3.æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„é“¾æ¥ï¼ˆLink to its parent nodeï¼‰</p><p>ã€€ã€€åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬ç”¨â€™0â€™ä¸â€™1â€™åˆ†åˆ«ä»£è¡¨æŒ‡å‘å·¦å­èŠ‚ç‚¹ä¸å³å­èŠ‚ç‚¹ï¼Œæœ€åä¸ºå®Œæˆçš„äºŒå‰æ ‘å…±æœ‰nä¸ªç»ˆç«¯èŠ‚ç‚¹ä¸n-1ä¸ªéç»ˆç«¯èŠ‚ç‚¹ï¼Œå»é™¤äº†ä¸å¿…è¦çš„ç¬¦å·å¹¶äº§ç”Ÿæœ€ä½³çš„ç¼–ç é•¿åº¦ã€‚</p><p>ã€€ã€€è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç»ˆç«¯èŠ‚ç‚¹éƒ½åŒ…å«ç€ä¸€ä¸ªæƒé‡ï¼ˆWeightã€Probabilitiesã€Frequencyï¼‰ï¼Œä¸¤ä¸¤ç»ˆç«¯èŠ‚ç‚¹ç»“åˆä¼šäº§ç”Ÿä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹çš„æƒé‡æ˜¯ç”±ä¸¤ä¸ªæƒé‡æœ€å°çš„ç»ˆç«¯èŠ‚ç‚¹æƒé‡ä¹‹æ€»å’Œï¼Œå¹¶æŒç»­è¿›è¡Œæ­¤è¿‡ç¨‹ç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæ­¢ã€‚</p><p>ã€€ã€€å®ç°éœå¤«æ›¼æ ‘çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ç®€å•è¾¾æˆè¿™ä¸ªè¿‡ç¨‹ï¼Œç»™ä¸æƒé‡è¾ƒä½çš„ç¬¦å·è¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼ˆPriorityï¼‰ï¼Œç®—æ³•å¦‚ä¸‹ï¼š</p><p>ã€€ã€€â’ˆæŠŠnä¸ªç»ˆç«¯èŠ‚ç‚¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåˆ™nä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆæƒPiï¼Œ1 â‰¤ i â‰¤ n</p><p>ã€€ã€€â’‰å¦‚æœé˜Ÿåˆ—å†…çš„èŠ‚ç‚¹æ•°&gt;1ï¼Œåˆ™ï¼š</p><p>ã€€ã€€ã€€â‘´ä»é˜Ÿåˆ—ä¸­ç§»é™¤ä¸¤ä¸ªæœ€å°çš„PièŠ‚ç‚¹ï¼Œå³è¿ç»­åšä¸¤æ¬¡removeï¼ˆminï¼ˆPiï¼‰, Priority_Queue)<br>ã€€ã€€ã€€â‘µäº§ç”Ÿä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œæ­¤èŠ‚ç‚¹ä¸ºï¼ˆ1ï¼‰ä¹‹ç§»é™¤èŠ‚ç‚¹ä¹‹çˆ¶èŠ‚ç‚¹ï¼Œè€Œæ­¤èŠ‚ç‚¹çš„æƒé‡å€¼ä¸ºï¼ˆ1ï¼‰ä¸¤èŠ‚ç‚¹ä¹‹æƒé‡å’Œ<br>ã€€ã€€ã€€â‘¶æŠŠï¼ˆ2ï¼‰äº§ç”Ÿä¹‹èŠ‚ç‚¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­<br>ã€€ã€€â’Šæœ€ååœ¨ä¼˜å…ˆé˜Ÿåˆ—é‡Œçš„ç‚¹ä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹ï¼ˆrootï¼‰<br>ã€€ã€€<br>ã€€ã€€è€Œæ­¤ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼ˆ Time Complexityï¼‰ä¸ºOï¼ˆn log nï¼‰ï¼›å› ä¸ºæœ‰nä¸ªç»ˆç«¯èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ ‘æ€»å…±æœ‰2n-1ä¸ªèŠ‚ç‚¹ï¼Œä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¯ä¸ªå¾ªç¯é¡»Oï¼ˆlog nï¼‰ã€‚</p><p>ã€€ã€€æ­¤å¤–ï¼Œæœ‰ä¸€ä¸ªæ›´å¿«çš„æ–¹å¼ä½¿æ—¶é—´å¤æ‚åº¦é™è‡³çº¿æ€§æ—¶é—´ï¼ˆLinear Timeï¼‰Oï¼ˆnï¼‰ï¼Œå°±æ˜¯ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—ï¼ˆQueueï¼‰åˆ›ä»¶éœå¤«æ›¼æ ‘ã€‚ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ç”¨æ¥å­˜å‚¨nä¸ªç¬¦å·ï¼ˆå³nä¸ªç»ˆç«¯èŠ‚ç‚¹ï¼‰çš„æƒé‡ï¼Œç¬¬äºŒä¸ªé˜Ÿåˆ—ç”¨æ¥å­˜å‚¨ä¸¤ä¸¤æƒé‡çš„åˆï¼ˆå³éç»ˆç«¯èŠ‚ç‚¹ï¼‰ã€‚æ­¤æ³•å¯ä¿è¯ç¬¬äºŒä¸ªé˜Ÿåˆ—çš„å‰ç«¯ï¼ˆFrontï¼‰æƒé‡æ°¸è¿œéƒ½æ˜¯æœ€å°å€¼ï¼Œä¸”æ–¹æ³•å¦‚ä¸‹ï¼š</p><p>ã€€ã€€â’ˆæŠŠnä¸ªç»ˆç«¯èŠ‚ç‚¹åŠ å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆä¾ç…§æƒé‡å¤§å°æ’åˆ—ï¼Œæœ€å°åœ¨å‰ç«¯ï¼‰<br>ã€€<br>ã€€ã€€â’‰å¦‚æœé˜Ÿåˆ—å†…çš„èŠ‚ç‚¹æ•°&gt;1ï¼Œåˆ™ï¼š</p><p>ã€€ã€€ã€€â‘´ä»é˜Ÿåˆ—å‰ç«¯ç§»é™¤ä¸¤ä¸ªæœ€ä½æƒé‡çš„èŠ‚ç‚¹<br>ã€€ã€€ã€€â‘µå°†ï¼ˆ1ï¼‰ä¸­ç§»é™¤çš„ä¸¤ä¸ªèŠ‚ç‚¹æƒé‡ç›¸åŠ åˆæˆä¸€ä¸ªæ–°èŠ‚ç‚¹<br>ã€€ã€€ã€€â‘¶åŠ å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—<br>ã€€ã€€â’Šæœ€ååœ¨ç¬¬ä¸€ä¸ªé˜Ÿåˆ—çš„èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹</p><p>ã€€ã€€è™½ç„¶ä½¿ç”¨æ­¤æ–¹æ³•æ¯”ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦è¿˜ä½ï¼Œä½†æ˜¯æ³¨æ„æ­¤æ³•çš„ç¬¬1é¡¹ï¼ŒèŠ‚ç‚¹å¿…é¡»ä¾ç…§æƒé‡å¤§å°åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœèŠ‚ç‚¹åŠ å…¥é¡ºåºä¸æŒ‰å¤§å°ï¼Œåˆ™éœ€è¦ç»è¿‡æ’åºï¼Œåˆ™è‡³å°‘èŠ±äº†Oï¼ˆn log nï¼‰çš„æ—¶é—´å¤æ‚åº¦è®¡ç®—ã€‚</p><p>ã€€ã€€ä½†æ˜¯åœ¨ä¸åŒçš„çŠ¶å†µè€ƒé‡ä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦å¹¶éæ˜¯æœ€é‡è¦çš„ï¼Œå¦‚æœæˆ‘ä»¬ä»Šå¤©è€ƒè™‘è‹±æ–‡å­—æ¯çš„å‡ºç°é¢‘ç‡ï¼Œå˜é‡nå°±æ˜¯è‹±æ–‡å­—æ¯çš„26ä¸ªå­—æ¯ï¼Œåˆ™ä½¿ç”¨å“ªä¸€ç§ç®—æ³•æ—¶é—´å¤æ‚åº¦éƒ½ä¸ä¼šå½±å“å¾ˆå¤§ï¼Œå› ä¸ºnä¸æ˜¯ä¸€ç¬”åºå¤§çš„æ•°å­—ã€‚</p><h2 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h2><ul><li><h3 id="å…³äºHuffmanèŠ‚ç‚¹çš„å®šä¹‰"><a href="#å…³äºHuffmanèŠ‚ç‚¹çš„å®šä¹‰" class="headerlink" title="å…³äºHuffmanèŠ‚ç‚¹çš„å®šä¹‰"></a>å…³äºHuffmanèŠ‚ç‚¹çš„å®šä¹‰</h3><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Hufnode</span>&#123;</span><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Hufnode</span> *<span class="hljs-title">lc</span>;</span><span class="hljs-comment">//å·¦å³å­æ ‘</span>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Hufnode</span> *<span class="hljs-title">rc</span>;</span>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> <span class="hljs-built_in">pow</span>;<span class="hljs-comment">//å½“å‰èŠ‚ç‚¹çš„æƒé‡</span>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> Data;<span class="hljs-comment">//è¿™ä¸ªèŠ‚ç‚¹å¦‚æœæ˜¯å¶å­ç»“ç‚¹ï¼Œé‚£ä¹ˆå­˜å‚¨ç¼–ç å¯¹åº”çš„å­—ç¬¦</span>    <span class="hljs-keyword">bool</span> leaf;<span class="hljs-comment">//æ ‡è®°æ˜¯å¦æ˜¯å­—ç¬¦</span>    <span class="hljs-built_in">string</span> code;<span class="hljs-comment">//å­˜å‚¨å¯¹åº”çš„Huffmanç¼–ç </span>    Hufnode() : lc(<span class="hljs-literal">NULL</span>), rc(<span class="hljs-literal">NULL</span>), leaf(<span class="hljs-literal">true</span>)&#123;&#125;<span class="hljs-comment">//åˆå§‹åŒ–èŠ‚ç‚¹</span>&#125;</code></pre><p>é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬è¿˜éœ€è¦å®ç°ä¸€äº›èŠ‚ç‚¹èµ‹å€¼çš„æ“ä½œç¬¦é‡è½½ï¼Œæ–¹ä¾¿èµ‹å€¼</p><pre><code class="hljs C++"><span class="hljs-keyword">void</span> <span class="hljs-keyword">operator</span>=(Hufnode *oth)<span class="hljs-comment">//é‡è½½ç­‰äºå·çš„æ„ä¹‰éå¸¸é‡å¤§</span>&#123;    <span class="hljs-keyword">this</span>-&gt;code = oth-&gt;code;    <span class="hljs-keyword">this</span>-&gt;Data = oth-&gt;Data;    <span class="hljs-keyword">this</span>-&gt;lc = oth-&gt;lc;    <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">pow</span> = oth-&gt;<span class="hljs-built_in">pow</span>;    <span class="hljs-keyword">this</span>-&gt;rc = oth-&gt;rc;    <span class="hljs-keyword">this</span>-&gt;leaf = oth-&gt;leaf;&#125;<span class="hljs-keyword">operator</span> Hufnode *()<span class="hljs-comment">//åŒæ ·çš„ï¼Œé‡è½½Hufnodeåˆ°Hufnide*</span>&#123;    Hufnode *res = <span class="hljs-keyword">new</span> Hufnode;    res-&gt;Data = <span class="hljs-keyword">this</span>-&gt;Data;    res-&gt;<span class="hljs-built_in">pow</span> = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">pow</span>;    res-&gt;code = <span class="hljs-keyword">this</span>-&gt;code;    res-&gt;lc = <span class="hljs-keyword">this</span>-&gt;lc;    res-&gt;leaf = <span class="hljs-keyword">this</span>-&gt;leaf;    res-&gt;rc = <span class="hljs-keyword">this</span>-&gt;rc;    <span class="hljs-keyword">return</span> res;&#125;</code></pre></li><li><h3 id="å®ç°Huffmanæ ‘çš„æ„å»º"><a href="#å®ç°Huffmanæ ‘çš„æ„å»º" class="headerlink" title="å®ç°Huffmanæ ‘çš„æ„å»º"></a>å®ç°Huffmanæ ‘çš„æ„å»º</h3><p>ã€€ã€€æ ¹æ®å¼€å¤´ä»‹ç»çš„ä¸¤ç§æ–¹æ³•ï¼Œå„æœ‰åƒç§‹ï¼Œå…¶ä¸­æˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒå®¹æ˜“ç†è§£çš„æ–¹æ³•ï¼Œæ­¤å¤„ä¸ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç­‰ç­‰ä¼˜åŒ–æ€§çš„ç®—æ³•ï¼Œè½¬å‘ä½¿ç”¨å†’æ³¡æ’åºï¼Œå› ä¸ºæ’åºçš„å†…å®¹ä¸ç®—å¤šï¼Œè€Œä¸”åœ¨ç¬¬ä¸€æ¬¡æ’åºå®Œæˆä¹‹åä¸ä¼šæœ‰è¾ƒå¤šçš„æ’åºè¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å†’æ³¡ä¼˜åŒ–åŠ å¿«é€Ÿåº¦ï¼ˆä½¿å…¶å˜æˆä¸€ä¸ªæ’å…¥ç®—æ³•ï¼‰ã€‚<br>ã€€ã€€æ­¤å¤„å®ç°ä¸€ä¸ªclassç±»ï¼Œè´Ÿè´£å®ç°Huffmanæ ‘çš„æ„å»ºå’Œç›¸å…³</p><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hufman</span>&#123;</span><span class="hljs-keyword">private</span>:    Hufnode * root<span class="hljs-comment">//è®°å½•ä¸‹Huffmanæ ‘çš„æ ¹èŠ‚ç‚¹</span>        <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>, <span class="hljs-built_in">string</span>&gt; code_map<span class="hljs-comment">//ç”¨æ¥å¿«é€Ÿè®¿é—®å­—ç¬¦å¯¹åº”çš„Huffmanç¼–ç </span>&#125;</code></pre><p>ã€€ç„¶åæˆ‘ä»¬éœ€è¦å®ç°ä¸€äº›ç›¸å…³çš„å‡½æ•°æ¥å®Œå–„è¿™æ ·ä¸€ä¸ªHuffmanç±»</p><pre><code class="hljs C++"><span class="hljs-function">Hufnode *<span class="hljs-title">return_root</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">//è·å¾—å½“å‰Huffmanæ ‘çš„æ ¹èŠ‚ç‚¹</span><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> <span class="hljs-title">pow_len</span><span class="hljs-params">()</span></span>;    <span class="hljs-comment">//è¿”å›æ–‡ä»¶æ‹¥æœ‰çš„å­—ç¬¦æ•°é‡  </span><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">return_code</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> c)</span></span>;<span class="hljs-comment">//æ ¹æ®å­—ç¬¦è¿”å›å¯¹åº”çš„Huffmanç¼–ç   </span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">(Hufnode *root)</span></span>;    <span class="hljs-comment">//é€’å½’è°ƒç”¨ï¼Œè§£æ„å‡½æ•°</span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build_huf</span><span class="hljs-params">(Hufnode data[], <span class="hljs-keyword">int</span> size)</span></span>;<span class="hljs-comment">//æ„å»ºHuffmanæ ‘ï¼Œè¾“å…¥çš„æ˜¯èŠ‚ç‚¹æ•°é‡å’ŒèŠ‚ç‚¹  </span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update_code</span><span class="hljs-params">(Hufnode *root, <span class="hljs-built_in">string</span> fa, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *c)</span></span>;<span class="hljs-comment">//æ ¹æ®å»ºç«‹çš„Huffmanæ ‘ï¼Œé€’å½’ç»™æ¯ä¸€ä¸ªå­—ç¬¦ç”ŸæˆHuffmanç¼–ç   </span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bob_sort</span><span class="hljs-params">(Hufnode data[], <span class="hljs-keyword">int</span> size)</span></span>;<span class="hljs-comment">//ä¼˜åŒ–è¿‡çš„å†’æ³¡æ’åº  </span></code></pre></li><li><h3 id="å‹ç¼©æ–‡ä»¶"><a href="#å‹ç¼©æ–‡ä»¶" class="headerlink" title="å‹ç¼©æ–‡ä»¶"></a>å‹ç¼©æ–‡ä»¶</h3><p>ã€€ã€€<font size='4'>ä»»åŠ¡æŒºå¤šï¼Œéƒ½æ˜¯æ˜¯éœ€è¦å•ç‹¬å®ç°çš„ä¸œè¥¿ï¼š  </font></p><ul><li>å…³äºéœ€è¦è¢«å‹ç¼©çš„æ–‡ä»¶è¯»å…¥ï¼Œè¾“å‡ºçš„æ–‡ä»¶æ ¼å¼ï¼›</li><li>è¯»å…¥å­—ç¬¦ç»Ÿè®¡ä¸åŒå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼›</li><li>æŠŠç¼–ç åçš„æ–‡ä»¶å†™å…¥åˆ°è¾“å‡ºæ–‡ä»¶å½“ä¸­ï¼›</li><li>ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼šæœ€åå­—ç¬¦ä¸æ˜¯å®Œæ•´çš„å­—èŠ‚</li></ul><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">zip</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *input, <span class="hljs-keyword">char</span> *output)</span></span>&#123;<span class="hljs-comment">//æ­¤å¤„å·æ‡’ç”¨ä¸€ç”¨ZIPå‘½åä¸ä¼šå‡ºäº‹å§ï¼Œä¸ä¼šå§</span>FILE *fp = <span class="hljs-literal">NULL</span>, *outfile = <span class="hljs-literal">NULL</span>;<span class="hljs-comment">//æ–‡ä»¶è¾“å…¥å’Œè¾“å‡º</span>  byte_fre <span class="hljs-built_in">array</span>[<span class="hljs-number">256</span>];<span class="hljs-comment">//ç”¨äºŒè¿›åˆ¶æ–¹å¼è¯»å…¥æ–‡ä»¶ï¼Œå¯ä»¥å®ç°å¯¹æ‰€æœ‰æ ¼å¼æ–‡ä»¶å…¼å®¹ï¼Œå¼€256ä¸ªç©ºé—´æ˜¯å› ä¸ºåªæœ‰256ç§ä¸åŒçš„å­—èŠ‚ã€‚</span>  Hufnode *data;<span class="hljs-comment">//Huffmanå»ºæ ‘çš„ä¸´æ—¶ç¼“å†²åŒº</span>  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> char_temp = <span class="hljs-number">0</span>;<span class="hljs-comment">//å­—èŠ‚æ“ä½œæ–‡ä»¶çš„ç¼“å†²åŒº</span>  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> code_len = <span class="hljs-number">0</span>;<span class="hljs-comment">//è®°å½•æ–‡ä»¶é•¿åº¦</span>  data = <span class="hljs-keyword">new</span> Hufnode[<span class="hljs-number">256</span>];  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; i++)      <span class="hljs-built_in">array</span>[i].data = i;  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> buffer[MAX_LINE];  buffer[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;&#125;</code></pre><p>ã€€ã€€åœ¨ä¸Šé¢åˆå§‹åŒ–zipå‹ç¼©å‡½æ•°ï¼Œç„¶åå¼€å§‹è¯»å…¥æ–‡ä»¶ï¼Œæ±‚è§£ç»Ÿè®¡æ•´ä¸ªæ–‡ä»¶ä¸åŒå­—èŠ‚æƒå€¼ã€‚  </p><pre><code class="hljs C++"><span class="hljs-keyword">while</span> (!feof(fp) &amp;&amp; fread(buffer, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, fp))&#123;    <span class="hljs-keyword">int</span> a = buffer[<span class="hljs-number">0</span>];    <span class="hljs-built_in">array</span>[a].fre++;<span class="hljs-comment">//ç»Ÿè®¡ä¸åŒçš„å­—èŠ‚æƒå€¼</span>    buffer[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;&#125;<span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; i++) <span class="hljs-comment">//æœé›†æƒå€¼ç”¨æ¥æ„å»ºhafumanæ ‘ </span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">array</span>[i].fre &gt; <span class="hljs-number">0</span>)    &#123;        data[len].<span class="hljs-built_in">pow</span> = <span class="hljs-built_in">array</span>[i].fre;        data[len].leaf = <span class="hljs-literal">true</span>;        data[len++].Data = <span class="hljs-built_in">array</span>[i].data;    &#125;&#125;Hufman CODE;CODE.build_huf(data, len); <span class="hljs-comment">//æ­¤å¤„è°ƒç”¨hufmanç±»é‡Œé¢çš„å»ºæ ‘</span>len = <span class="hljs-number">0</span>;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; i++) <span class="hljs-comment">// ä¸ºäº†åœ¨å…ƒæ•°æ®å†™å…¥ä¸åŒå­—èŠ‚æƒé‡</span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">array</span>[i].fre &gt; <span class="hljs-number">0</span>)    &#123;        data[len].<span class="hljs-built_in">pow</span> = <span class="hljs-built_in">array</span>[i].fre;        data[len].leaf = <span class="hljs-literal">true</span>;        data[len++].Data = <span class="hljs-built_in">array</span>[i].data;    &#125;&#125;outfile = fopen(output, <span class="hljs-string">&quot;wb+&quot;</span>);fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> *)&amp;len, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>), <span class="hljs-number">1</span>, outfile);<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;    fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;data[i].Data, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, outfile);    fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> *)&amp;data[i].<span class="hljs-built_in">pow</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>), <span class="hljs-number">1</span>, outfile);&#125;<span class="hljs-keyword">char</span> code_buf[<span class="hljs-number">256</span>] = <span class="hljs-string">&quot;\0&quot;</span>; <span class="hljs-comment">// </span>rewind(fp);<span class="hljs-keyword">int</span> file_len = CODE.pow_len();fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> *)&amp;file_len, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>), <span class="hljs-number">1</span>, outfile); <span class="hljs-comment">// è¯»å–æ–‡ä»¶çš„å¤§å°</span>fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;char_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, fp);      <span class="hljs-comment">// æŒ‰ç…§å­—èŠ‚è¯»å–8ä¸ªbit</span><span class="hljs-keyword">int</span> temp = <span class="hljs-number">0</span>;<span class="hljs-keyword">while</span> (!feof(fp))&#123;    <span class="hljs-built_in">strcat</span>(code_buf, CODE.return_code(char_temp).data());    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">strlen</span>(code_buf) &gt;= <span class="hljs-number">8</span>)    &#123;        char_temp = <span class="hljs-string">&#x27;\0&#x27;</span>;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; ++i)        &#123;            char_temp &lt;&lt;= <span class="hljs-number">1</span>;            <span class="hljs-keyword">if</span> (code_buf[i] == <span class="hljs-string">&#x27;1&#x27;</span>)            &#123;                char_temp |= <span class="hljs-number">1</span>;            &#125;        &#125;        fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;char_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, outfile); <span class="hljs-comment">// è¾“å‡º</span>        <span class="hljs-built_in">strcpy</span>(code_buf, code_buf + <span class="hljs-number">8</span>);    &#125;    <span class="hljs-keyword">if</span> (feof(fp))        <span class="hljs-keyword">break</span>;    fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;char_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, fp); <span class="hljs-comment">// è¯»å…¥æ–‡ä»¶æ•°æ®</span>&#125;<span class="hljs-comment">// å¤„ç†æœ€åä¸è¶³8ä½çš„æƒ…å†µ</span>code_len = <span class="hljs-built_in">strlen</span>(code_buf);<span class="hljs-keyword">if</span> (code_len &gt; <span class="hljs-number">0</span>)&#123;    <span class="hljs-built_in">memset</span>(&amp;char_temp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(char_temp));    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; code_len; ++i)    &#123;        char_temp &lt;&lt;= <span class="hljs-number">1</span>;        <span class="hljs-keyword">if</span> (code_buf[i] == <span class="hljs-string">&#x27;1&#x27;</span>)            char_temp |= <span class="hljs-number">1</span>;    &#125;    char_temp &lt;&lt;= <span class="hljs-number">8</span> - code_len;                                            <span class="hljs-comment">// ç§»åŠ¨åˆ°é«˜ä½</span>    fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;char_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, outfile); <span class="hljs-comment">// </span>&#125;fclose(fp);fclose(outfile); <span class="hljs-keyword">delete</span>[] data;</code></pre></li><li><h3 id="è§£å‹æ–‡ä»¶"><a href="#è§£å‹æ–‡ä»¶" class="headerlink" title="è§£å‹æ–‡ä»¶"></a>è§£å‹æ–‡ä»¶</h3>ã€€ã€€æ—¢ç„¶å‹ç¼©éƒ½å·²ç»ä½¿ç”¨äº†zipçš„å‡½æ•°åç§°ï¼Œæ­¤å¤„å†æ¬¡å·æ‡’å¥½äº†ã€‚<br>ã€€ã€€ä¸‹é¢æ˜¯éœ€è¦ä½¿ç”¨çš„ä¸´æ—¶å˜é‡ï¼š<pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">unzip</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *input, <span class="hljs-keyword">char</span> *output)</span></span>&#123;FILE *inputf=<span class="hljs-literal">NULL</span>, *outputf=<span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> len=<span class="hljs-number">0</span>;    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> file_len=<span class="hljs-number">0</span>;<span class="hljs-comment">//è¯»å…¥çš„æ–‡ä»¶å¤§å°</span>    Hufnode *root = <span class="hljs-literal">NULL</span>;<span class="hljs-comment">//ä¸´æ—¶æŒ‡é’ˆ</span>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> node_num=<span class="hljs-number">0</span>;    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> code_temp = <span class="hljs-number">0</span>; <span class="hljs-comment">// ç¼“å†²åŒº</span>    byte_fre <span class="hljs-built_in">array</span>[<span class="hljs-number">256</span>];<span class="hljs-comment">//ç»Ÿè®¡æƒé‡</span>    inputf = fopen(input, <span class="hljs-string">&quot;rb&quot;</span>);    outputf = fopen(output, <span class="hljs-string">&quot;wb+&quot;</span>);&#125;</code></pre>ã€€ã€€ç„¶åæ˜¯æ­£å¼è¯»å–å‹ç¼©çš„æ–‡ä»¶å¼€å§‹è§£å‹ã€‚ï¼ˆè­¦å‘Šä»£ç å¹¶æ²¡æœ‰éªŒè¯è§£å‹æ–‡ä»¶æ˜¯å¦æ˜¯ä¸Šè¿°å‹ç¼©ç®—æ³•ç”Ÿæˆçš„ã€‚ä»»æ„è§£å‹ä¼šæå‡ºæ¥å‹ç¼©ç‚¸å¼¹ï¼‰<pre><code class="hljs C++"><span class="hljs-keyword">if</span> (inputf == <span class="hljs-literal">NULL</span>)        <span class="hljs-keyword">return</span>;    fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;len, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>), <span class="hljs-number">1</span>, inputf);<span class="hljs-comment">//å…ˆè¯»å–å­—ç¬¦ç§ç±»</span>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i; i &lt; len; i++)    &#123;        fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;<span class="hljs-built_in">array</span>[i].data, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, inputf);        fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> *)&amp;<span class="hljs-built_in">array</span>[i].fre, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>), <span class="hljs-number">1</span>, inputf);    &#125;    Hufnode data[<span class="hljs-number">256</span>];    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) <span class="hljs-comment">//collecting data to build huffman tree </span>    &#123;        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">array</span>[i].fre &gt; <span class="hljs-number">0</span>)        &#123;            data[i].<span class="hljs-built_in">pow</span> = <span class="hljs-built_in">array</span>[i].fre;            data[i].leaf = <span class="hljs-literal">true</span>;            data[i].Data = <span class="hljs-built_in">array</span>[i].data;        &#125;    &#125;    Hufman CODE;    CODE.build_huf(data, len);<span class="hljs-comment">//æ ¹æ®è¯»å…¥çš„å­—èŠ‚æƒé‡é‡å»ºhuffmanæ ‘</span>    fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;file_len, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>), <span class="hljs-number">1</span>, inputf); <span class="hljs-comment">//è¯»å–æ–‡ä»¶å¤§å°</span>    root = CODE.return_root();    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> writen_len = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)    &#123;    fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;code_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, inputf); <span class="hljs-comment">//æ¯æ¬¡ä¸€ä¸ªå­—èŠ‚è¿›è¡Œè§£å‹</span>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; ++i)        &#123;            <span class="hljs-keyword">if</span> (code_temp &amp; <span class="hljs-number">128</span>)                root = root-&gt;rc;            <span class="hljs-keyword">else</span>                root = root-&gt;lc;            <span class="hljs-keyword">if</span> (root-&gt;leaf == <span class="hljs-literal">true</span>)            &#123;                fwrite((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;root-&gt;Data, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, outputf);                ++writen_len;                <span class="hljs-keyword">if</span> (writen_len &gt;= file_len)                    <span class="hljs-keyword">break</span>;                 <span class="hljs-comment">// è·³å‡ºå¾ªç¯</span>                root = CODE.return_root(); <span class="hljs-comment">// æ¢å¤</span>            &#125;            code_temp &lt;&lt;= <span class="hljs-number">1</span>; <span class="hljs-comment">// switch next bit to the highest</span>        &#125;        <span class="hljs-keyword">if</span> (writen_len &gt;= file_len)            <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// æ–‡ä»¶å¤§å°æ£€æµ‹</span>    &#125;    fread((<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> *)&amp;code_temp, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>), <span class="hljs-number">1</span>, inputf);    <span class="hljs-comment">// close the file</span>    fclose(inputf);    fclose(outputf);</code></pre></li><li><h3 id="ä¸€ä¸ªmainå‡½æ•°"><a href="#ä¸€ä¸ªmainå‡½æ•°" class="headerlink" title="ä¸€ä¸ªmainå‡½æ•°"></a>ä¸€ä¸ªmainå‡½æ•°</h3>ã€€ã€€è¿™ä¸ªä¸œè¥¿å°±æ˜¯ä¸ªäººè‡ªè¡Œå®Œæˆäº†ï¼Œæ­¤å¤„ä¸å†ç²˜è´´å®Œæ•´çš„ä»£ç ã€‚<pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">char</span> input[<span class="hljs-number">100</span>] = &#123;<span class="hljs-number">0</span>&#125;, output[<span class="hljs-number">100</span>] = &#123;<span class="hljs-number">0</span>&#125;;    <span class="hljs-keyword">int</span> opcode = <span class="hljs-number">-1</span>;    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)    &#123;        welcome();        <span class="hljs-built_in">cin</span> &gt;&gt; opcode;        <span class="hljs-keyword">switch</span> (opcode)<span class="hljs-comment">//three cases</span>        &#123;        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<span class="hljs-comment">//zip</span>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Your file name of input&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-built_in">cin</span> &gt;&gt; input;            <span class="hljs-keyword">while</span> (file_name(input) == <span class="hljs-literal">false</span>)            &#123;                <span class="hljs-built_in">cin</span> &gt;&gt; input;                <span class="hljs-keyword">if</span> (input[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; input[<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)                &#123;                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;                &#125;            &#125;            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Your file name of output&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-built_in">cin</span> &gt;&gt; output;            zip(input, output);            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Zip behaviour is complete&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>                 &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-keyword">break</span>;        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<span class="hljs-comment">//unzip</span>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Your file name of input&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-built_in">cin</span> &gt;&gt; input;            <span class="hljs-keyword">while</span> (file_name(input) == <span class="hljs-literal">false</span>)            &#123;                <span class="hljs-built_in">cin</span> &gt;&gt; input;                <span class="hljs-keyword">if</span> (input[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; input[<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)                &#123;                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;                &#125;            &#125;            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Your file name of output&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-built_in">cin</span> &gt;&gt; output;            unzip(input, output);            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Unzip behaviour is complete&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>                 &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-keyword">break</span>;        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<span class="hljs-comment">//exit</span>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;            <span class="hljs-keyword">break</span>;        <span class="hljs-keyword">default</span>:            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Your Input is not allowed&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;            <span class="hljs-keyword">break</span>;        &#125;    &#125;&#125;</code></pre></li><li><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2></li><li><h3 id="ç›®å‰çš„é—®é¢˜"><a href="#ç›®å‰çš„é—®é¢˜" class="headerlink" title="ç›®å‰çš„é—®é¢˜"></a>ç›®å‰çš„é—®é¢˜</h3>ã€€<em> åœ¨ä»£ç æ³¨é‡Šä¸­æåŠè¿‡ï¼Œè§£å‹ç¼©æ˜¯ä¸èƒ½å¤ŸéªŒè¯å‹ç¼©çš„æ–‡ä»¶æ˜¯å¦æ˜¯Huffmanå‹ç¼©ç®—æ³•ç”Ÿæˆçš„ï¼Œå¦‚æœç›´æ¥è§£å‹ä¸€ä¸ªæ­£å¸¸çš„æ–‡ä»¶ï¼Œä¼šè§£å‹å‡ºæ¥ä¸€ä¸ªå‹ç¼©ç‚¸å¼¹æˆ–è€…ä¸€ä¸ªå•¥ä¹Ÿæ²¡æœ‰ã€‚ä¸ä¹‹é…å¥—çš„å‹ç¼©ç®—æ³•ä¸­ä¹Ÿæ²¡æœ‰åŠ å…¥ç›¸åº”çš„éªŒè¯ç¨‹åºã€‚ã€€</em> æ²¡æœ‰å¯¹å•ä¸€å­—èŠ‚ç±»å‹è¿›è¡Œç‰¹åŒ–å¤„ç†ï¼Œæ¯”å¦‚è¯´ï¼Œå‹ç¼©ä¸€ä¸ªæ–‡æœ¬å…¨éƒ¨æ˜¯â€œaâ€çš„æ–‡æœ¬æ–‡ä»¶ä¼šä¸¢å¤±æ•°æ®ï¼Œå› ä¸ºåœ¨å»ºç«‹å“ˆå¤«æ›¼æ ‘çš„æ—¶å€™æ²¡æœ‰ç‰¹åŒ–è€ƒè™‘åªæœ‰ä¸€ç§å­—èŠ‚ç±»å‹çš„æƒ…å†µï¼Œä¹‹åä¿®æ”¹åŠ å…¥ã€‚</li><li><h3 id="æ²¡äº†"><a href="#æ²¡äº†" class="headerlink" title="æ²¡äº†"></a>æ²¡äº†</h3>ã€€ã€€ä½œä¸‹æ­¤æ–‡ï¼Œåªæ˜¯è®°ä¸€æ¬¡è¢«è¿«ä»é›¶å¼€å§‹å®Œæˆä¸€ä¸ªæ•°æ®ç»“æ„ä½œä¸šï¼Œ<em>~dissä¸€ä¸‹qhyã€‚åº”è¯¥ä¸ä¼šæœ‰äººè®¤å‡ºæ¥å§ã€‚å¦‚æœæ°å·§ä¹Ÿæ˜¯è¿™ä¸ªè€å¸ˆæ•™å­¦çš„ï¼Œ~</em><center><font size='0'>æœ€åæ›´æ–°æ—¶é—´ï¼š2020å¹´11æœˆ1æ—¥</font></center></li></ul>]]></content>
    
    
    <categories>
      
      <category>SYSU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vscode</title>
    <link href="/peachskin/2020/10/06/vscode/"/>
    <url>/peachskin/2020/10/06/vscode/</url>
    
    <content type="html"><![CDATA[<center><font size='6'>å¦‚ä½•è®©VsCodeç¼–å†™C++/Cä»£ç æ›´åŠ é«˜æ•ˆ</font></center><center><font size='0'>å°±æ˜¯æŠ˜è…¾+æ‘¸é±¼+æŠ˜è…¾</font></center><hr><h2 id="å®‰è£…æ•™ç¨‹"><a href="#å®‰è£…æ•™ç¨‹" class="headerlink" title="å®‰è£…æ•™ç¨‹"></a>å®‰è£…æ•™ç¨‹</h2><h3 id="ä¸‹è½½å®‰è£…VsCode"><a href="#ä¸‹è½½å®‰è£…VsCode" class="headerlink" title="ä¸‹è½½å®‰è£…VsCode"></a>ä¸‹è½½å®‰è£…VsCode</h3><p>ã€€ã€€ä»å¾®è½¯å®¶é‡Œææ¥ä¸€ä¸ªVsCodeçš„å®‰è£…åŒ…åº”è¯¥ä¸ä¼šå¾ˆéš¾å§ã€ä¸ä¼šå§ä¸ä¼šå§â€¦â€¦â€¦â€¦</p><center> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSMdYGzeQqSW5fcbollGfBqCjs5o0IJ0MIYyg&usqp=CAU" width="70">å¥½å§ï¼Œè¿˜æ˜¯æŒ‚ä¸Š[é“¾æ¥](https://code.visualstudio.com/)å¥½äº†ã€‚</center>  <p>ã€€ã€€ä¸‹è½½å¥½å®‰è£…åŒ…ï¼ŒåŒæ„æ¡æ¬¾ï¼Œä¸€è·¯ç›´èµ°ä¸‹ä¸€æ­¥ï¼Œ è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆä¸œè¥¿å¯ä»¥è®²è¿°çš„ï¼Œä¸»è¦å°±æ˜¯æœ€åä¸€æ­¥ï¼Œè¿™ä¸ªä¸€å®šè¦ç‚¹ä¸Šï¼Œä¸ç„¶å‡ºä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚æ€ä¹ˆä¿®å¤åˆé€‚ï¼Œä¹Ÿè®¸<a href="https://www.baidu.com">è¿™é‡Œ</a>çŸ¥é“æ€ä¹ˆä¿®å¤ä½ çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯<a href="https://www.google.com">è¿™é‡Œ</a>. </p><p>ã€€ã€€ç®—äº†ï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©æ‰‹æŠŠæ‰‹ä¸€ä¸‹å§ã€‚<br> <center></p><p><img src="https://pic2.zhimg.com/80/v2-6999967dc8d4d3438879fd15ccaca8e5_720w.jpg">  </p><p>ç„¶åé€‰æ‹©ä¸€ä¸ªå®‰è£…ä½ç½®ã€‚æˆ‘è§‰å¾—è¿™ç©æ„è‡ªå·±å–œæ¬¢å°±å¥½äº†ï¼Œè£…å“ªé‡Œéƒ½å¯ä»¥ã€‚</p><p><img src="https://pic2.zhimg.com/80/v2-55cb90244dcee54ddc961dacf9f3b06d_720w.jpg">  </p><p>æˆ‘ç›¸ä¿¡éœ€è¦è¿™ä¸ªè½¯ä»¶çš„äººä¸€å®šéƒ½ä¸æ˜¯ä»€ä¹ˆç”µè„‘å°ç™½å§ã€‚ä¸ä¼šå§ä¸ä¼šå§~  </p><p> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS3j-UQXtTp5DsqUi829BjjjfkyGcpILITS-Q&usqp=CAU" width="450" height="350" >  </p>  <font size='00'>è¿™æ˜¯ä¸€å¼ å¾ˆæ¨¡ç³Šçš„å›¾ç‰‡ï¼Œå°±ä¸è¦åæ§½äº† </font></center>  ã€€ã€€å¦‚æœè¿˜æ˜¯å‡ºç°äº†ä»€ä¹ˆè«åå…¶å¦™çš„é—®é¢˜ï¼Œè¯·ç‚¹å‡»[è¿™é‡Œ](https://www.baidu.com)ã€‚æˆ‘ç›¸ä¿¡è¿™é‡Œä¸€å®šèƒ½è§£å†³ä½ æ‰€æœ‰é—®é¢˜</center>  ### ç¼–è¯‘ç¯å¢ƒ  * #### windowsç³»ç»Ÿ  ã€€ã€€åœ¨Windowsç¯å¢ƒä¸‹æ¨è[MinGW](http://www.mingw.org/)ï¼Œè¿™æ˜¯ä¸€ä¸ªå®˜ç½‘ï¼Œå½“ç„¶å¦‚æœä¸Šä¸äº†å¯ä»¥æ¥çœ‹å¦å¤–ä¸€ä¸ªç»¿è‰²å®‰è£…åŒ…[sourceforge](https://sourceforge.net/projects/mingw-w64/files/)ï¼ˆè¿™ä¸ªç½‘ç«™æ˜¯å›½å¤–ç½‘ç«™ï¼Œè®¿é—®é€Ÿåº¦æœ‰ç‚¹æ¼«é•¿ï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿæ˜¯ï¼‰ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„â€œx86_64-posix-sehâ€è¿™ä¸ªå‹ç¼©åŒ…ã€‚è§£å‹åæŠŠé‡Œé¢â€œbinâ€æ–‡ä»¶å¤¹åŠ å…¥åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å°±è¡Œã€‚<font size='6'><font color="red">  ã€€ã€€ä¸€å®šè¦é‡å¯  ã€€ã€€ä¸€å®šè¦é‡å¯  ã€€ã€€ä¸€å®šè¦é‡å¯  ã€€ã€€é‡è¦çš„äº‹æƒ…è¯´3é  </font></font>  ã€€ã€€å®‰è£…å®Œæˆä¹‹åï¼Œè¿˜éœ€è¦æ·»åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œæœ‰çš„é‡å¯ä¹‹åæ‰èƒ½èµ·ä½œç”¨ï¼ˆä¸é‡å¯å½“ç„¶ä¹Ÿèƒ½ç”¨ï¼Œä½†æ˜¯å‡ºç°ä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„bugå°±ä¸çŸ¥é“äº†ï¼‰ã€‚  ã€€ã€€æ£€éªŒGCCç¼–è¯‘å™¨æ˜¯å¦å®‰è£…æ­£ç¡®ã€‚æ‰“å¼€å‘½ä»¤è¡Œ(ç‚¹å‡»å¼€å§‹èœå• -> è¿è¡Œï¼Œè¾“å…¥cmd.exeåç¡®å®š)<pre><code class="hljs cmd"><span class="hljs-number">1</span> | gcc -v</code></pre>ã€€ã€€å¦‚æœèƒ½å¤Ÿçœ‹åˆ°GCCçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œé‚£ä¹ˆæ­å–œä½ å®‰è£…å®Œæˆï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·ç‚¹å‡»[è¿™é‡Œ](https://www.baidu.com)ã€‚å¦‚æœä¸Šé¢çš„æ–¹æ³•ä¸è¡Œï¼Œæ­¤å¤„å¦å¤–åŠ è½½çš„ä¸€ä¸ªæ–¹æ³•ï¼ˆä½¿ç”¨å¸¦çš„å®‰è£…ç®¡ç†å™¨ï¼‰ï¼Œåœ¨[sourceforgeçš„mingw](https://link.zhihu.com/?target=https%3A//sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/)ï¼Œä¸‹è½½x64çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€è¿›è¡Œå®‰è£…ã€‚è¿™é‡Œæ˜¯æˆ‘çš„é€‰æ‹©ï¼šç‰ˆæœ¬é€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬ï¼Œï¼ˆPSï¼šå¦‚æœæ˜¯linuxä¸€å®šè¦é€‰æ‹©poisxï¼‰,32ä½çš„ç”µè„‘å°±é€‰æ‹©x86ï¼Œ64ä½ç”µè„‘å°±é€‰æ‹©x64ï¼Œæœ€åä¸€é¡¹åªèƒ½é€‰æ‹©â€œ0â€ã€‚<center><img src="https://pic1.zhimg.com/80/v2-3aae1eb09e5b78b306706ee3ed8693ac_720w.jpg"></center>  ã€€ã€€è¿™é‡Œåœ¨é€‰æ‹©å®‰è£…ä½ç½®çš„æ—¶å€™è®°å¾—è¦é¿å¼€ä¸­æ–‡è·¯å¾„å’Œä¸­æ–‡å­—ç¬¦çš„è·¯å¾„ã€‚  <center><img src="https://pic3.zhimg.com/80/v2-ccdc30f87b6ebcd77858122300c7c04a_720w.jpg"></center>  * #### Linuxç³»ç»Ÿ  ã€€ã€€è¿™ä¸ªçš„è¯å°±å¾ˆå¥½åŠäº†ï¼Œæ‰“å¼€ç»ˆç«¯ctrl ï¼‹ Alt + Tï¼Œè¾“å…¥å‘½ä»¤  <pre><code class="hljs bash">$ sudo apt update$ sudo apt install gcc$ sudo apt install g++                       PS:æœ‰äº›æ—¶å€™ä¸ä¼šè‡ªå·±å®‰è£…ä¸ŠG++è¿›è€Œå‡ºç°C++ç¼–è¯‘ä¸äº†å°±éš¾é¡¶(é€šå¸¸ä¸å¤ªä¼š)</code></pre>ã€€ã€€ç­‰å¾…å®‰è£…å®Œæˆï¼ŒåŒæ ·å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥<pre><code class="hljs bash">$ gcc -v</code></pre>ã€€ã€€æ£€æŸ¥å®‰è£…æ˜¯å¦å®Œæˆ  * å…¶å®åœ¨windowä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•  ã€€ã€€é¦–å…ˆä½ éœ€è¦å‡†å¤‡å¥½ä¸€ä¸ª[WSL](https://docs.microsoft.com/zh-cn/windows/wsl/install-manual)ï¼Œä¹‹åçš„å®‰è£…æ–¹æ³•å’Œlinuxä¸Šä¸€æ ·ã€‚ç®—äº†ï¼Œè¿˜æ˜¯æ‰¾åˆ°äº†ä¸€ç¯‡å®‰è£…[æ•™ç¨‹](https://www.jianshu.com/p/3e627ff45ccb)  ã€€ã€€ç„¶ååœ¨vscodeä¸Šå®‰è£…æ’ä»¶[Remote-WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl)ï¼Œè¿˜æ˜¯å»VsCodeçš„è‡ªå¸¦æ’ä»¶å•†åº—ä¸Šå»æ‰¾å§ã€‚* å…³äºGCCçš„å‘å±•å²å¯ä»¥å»çœ‹ï¼š[é¸Ÿå“¥çš„Linuxç§æˆ¿èœ](http://cn.linux.vbird.org/linux_basic/0110whatislinux_1.php)  ### é…ç½®F5è‡ªåŠ¨è¿è¡Œ~#### ã€€launch.jsonç¼–å†™* è¿™æ˜¯windowçš„  <pre><code class="hljs json">&#123;    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.2.0&quot;</span>,    <span class="hljs-attr">&quot;configurations&quot;</span>: [        &#123;        <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;(gdb) Launch&quot;</span>,        <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;cppdbg&quot;</span>,        <span class="hljs-attr">&quot;request&quot;</span>: <span class="hljs-string">&quot;launch&quot;</span>,        <span class="hljs-attr">&quot;program&quot;</span>: <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe&quot;</span>,        <span class="hljs-attr">&quot;args&quot;</span>: [            <span class="hljs-string">&quot;/K&quot;</span>,            <span class="hljs-string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span>,            <span class="hljs-string">&quot;&amp;&quot;</span>,            <span class="hljs-string">&quot;echo.&quot;</span>,            <span class="hljs-string">&quot;&amp;&quot;</span>,            <span class="hljs-string">&quot;pause&quot;</span>        ],        <span class="hljs-attr">&quot;stopAtEntry&quot;</span>: <span class="hljs-literal">false</span>,        <span class="hljs-attr">&quot;cwd&quot;</span>: <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span>,        <span class="hljs-attr">&quot;externalConsole&quot;</span>: <span class="hljs-literal">false</span>,        <span class="hljs-attr">&quot;MIMode&quot;</span>: <span class="hljs-string">&quot;gdb&quot;</span>,        &quot;miDebuggerPath&quot;: &quot;ç›˜ç¬¦:/ä¿®æ”¹ä¸ºè‡ªå·±çš„MinGWå®‰è£…è·¯å¾„/gdb.exe&quot;,    ï¼ˆè®°å¾—ä¿®æ”¹ä»–ï¼‰        &quot;setupCommands&quot;: [            &#123;                <span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;Enable pretty-printing for gdb&quot;</span>,                <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;-enable-pretty-printing&quot;</span>,                <span class="hljs-attr">&quot;ignoreFailures&quot;</span>: <span class="hljs-literal">true</span>            &#125;        ],        &quot;preLaunchTask&quot;: &quot;Build&quot;//è¦å’Œtask.jsonä¸­çš„labelæ ‡ç­¾ä¸€è‡´    &#125;,      ]&#125;</code></pre>* #### ã€€ç„¶åæ˜¯tasks.json<pre><code class="hljs bash">&#123;    <span class="hljs-string">&quot;tasks&quot;</span>: [        &#123;            <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;Build&quot;</span>,//ä¸€å®šè¦æ³¨æ„å’Œlaunch.jsonä¸­çš„prelaunchtaskå†…å®¹ä¸€è‡´            <span class="hljs-string">&quot;command&quot;</span>: <span class="hljs-string">&quot;g++&quot;</span>,            <span class="hljs-string">&quot;args&quot;</span>: [                <span class="hljs-string">&quot;-g&quot;</span>,                <span class="hljs-string">&quot;-Wall&quot;</span>,                <span class="hljs-string">&quot;-std=c++11&quot;</span>,                <span class="hljs-string">&quot;-lm&quot;</span>,                <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;file&#125;</span>&quot;</span>,                <span class="hljs-string">&quot;-o&quot;</span>,                <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;fileDirname&#125;</span>/<span class="hljs-variable">$&#123;fileBasenameNoExtension&#125;</span>.exe&quot;</span>            ],            <span class="hljs-string">&quot;presentation&quot;</span>: &#123;                <span class="hljs-string">&quot;reveal&quot;</span>: <span class="hljs-string">&quot;always&quot;</span>,                <span class="hljs-string">&quot;echo&quot;</span>: <span class="hljs-literal">false</span>,                <span class="hljs-string">&quot;focus&quot;</span>: <span class="hljs-literal">true</span>            &#125;,            <span class="hljs-string">&quot;problemMatcher&quot;</span>: &#123;                <span class="hljs-string">&quot;owner&quot;</span>: <span class="hljs-string">&quot;cpp&quot;</span>,                <span class="hljs-string">&quot;fileLocation&quot;</span>: <span class="hljs-string">&quot;absolute&quot;</span>,                <span class="hljs-string">&quot;pattern&quot;</span>: &#123;                    <span class="hljs-string">&quot;regexp&quot;</span>: <span class="hljs-string">&quot;^(.*):(\\d+):(\\d+):\\s+(error):\\s+(.*)$&quot;</span>,                    <span class="hljs-string">&quot;file&quot;</span>: 1,                    <span class="hljs-string">&quot;line&quot;</span>: 2,                    <span class="hljs-string">&quot;column&quot;</span>: 3,                    <span class="hljs-string">&quot;severity&quot;</span>: 4,                    <span class="hljs-string">&quot;message&quot;</span>: 5                &#125;            &#125;        &#125;,        &#123;            <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;Run&quot;</span>,            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;shell&quot;</span>,            <span class="hljs-string">&quot;dependsOn&quot;</span>: <span class="hljs-string">&quot;Build&quot;</span>,            <span class="hljs-string">&quot;command&quot;</span>: <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;fileDirname&#125;</span>/<span class="hljs-variable">$&#123;fileBasenameNoExtension&#125;</span>.exe&quot;</span>,            <span class="hljs-string">&quot;args&quot;</span>: [],            <span class="hljs-string">&quot;presentation&quot;</span>: &#123;                <span class="hljs-string">&quot;reveal&quot;</span>: <span class="hljs-string">&quot;always&quot;</span>,                <span class="hljs-string">&quot;focus&quot;</span>: <span class="hljs-literal">true</span>            &#125;,            <span class="hljs-string">&quot;problemMatcher&quot;</span>: [],            <span class="hljs-string">&quot;group&quot;</span>: &#123;                <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;test&quot;</span>,                <span class="hljs-string">&quot;isDefault&quot;</span>: <span class="hljs-literal">true</span>            &#125;        &#125;    ],    <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;2.0.0&quot;</span>&#125;</code></pre>ã€€ã€€å½“ç„¶ä»¥ä¸Šæ–‡ä»¶å…¶å®ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨vscodeè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåªè¦ä¿®æ”¹äº†å¯¹åº”çš„æ–‡ä»¶è·¯å¾„å°±å¯ä»¥äº†ã€‚~~æ­¤å¤„åªæ˜¯æ”¾ä¸Šäº†æˆ‘çš„é…ç½®ï¼Œç†è®ºä¸Šç›´æ¥å¥—ç”¨æ²¡æœ‰é—®é¢˜ï¼Œå®é™…æ²¡æœ‰æµ‹è¯•è¿‡ï¼ˆé€ƒï¼‰ ~~ã€€ã€€å®é™…æµ‹è¯•ä¸‹æ¥ï¼Œæ€»æ˜¯ä¼šæœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸èƒ½å¤Ÿå®Œå…¨è¿è¡Œçš„ç»“æœã€‚ä½†æ˜¯è‡³å°‘èƒ½å¤Ÿç¼–è¯‘äº†ä¸æ˜¯ï¼Ÿã€€ã€€* Linuxçš„ã€€ã€€å…¶å®ä¹Ÿä¸éš¾ï¼Œä¿®æ”¹ä¸­æ–‡çš„è·¯å¾„ä¸ºå¯¹åº”çš„GDBè·¯å¾„å°±è¡Œäº†ï¼Œæ­¤å¤„ä¸å†ç²˜è´´ä»£ç   ç®—äº†ï¼Œæˆ‘è¿˜æ˜¯ç²˜è´´ä¸€æ®µå§(launch.json)<pre><code class="hljs json">&#123;    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.2.0&quot;</span>,    <span class="hljs-attr">&quot;configurations&quot;</span>: [        &#123;            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;g++ - ç”Ÿæˆå’Œè°ƒè¯•æ´»åŠ¨æ–‡ä»¶&quot;</span>,            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;cppdbg&quot;</span>,            <span class="hljs-attr">&quot;request&quot;</span>: <span class="hljs-string">&quot;launch&quot;</span>,            <span class="hljs-attr">&quot;program&quot;</span>: <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span>,            <span class="hljs-attr">&quot;args&quot;</span>: [],            <span class="hljs-attr">&quot;stopAtEntry&quot;</span>: <span class="hljs-literal">false</span>,            <span class="hljs-attr">&quot;cwd&quot;</span>: <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span>,            <span class="hljs-attr">&quot;environment&quot;</span>: [],            <span class="hljs-attr">&quot;externalConsole&quot;</span>: <span class="hljs-literal">false</span>,            <span class="hljs-attr">&quot;MIMode&quot;</span>: <span class="hljs-string">&quot;gdb&quot;</span>,            <span class="hljs-attr">&quot;setupCommands&quot;</span>: [                &#123;                    <span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;</span>,                    <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;-enable-pretty-printing&quot;</span>,                    <span class="hljs-attr">&quot;ignoreFailures&quot;</span>: <span class="hljs-literal">true</span>                &#125;            ],            <span class="hljs-attr">&quot;preLaunchTask&quot;</span>: <span class="hljs-string">&quot;C/C++: g++ build active file&quot;</span>,            <span class="hljs-attr">&quot;miDebuggerPath&quot;</span>: <span class="hljs-string">&quot;/usr/bin/gdb&quot;</span>         &#125;    ]&#125;</code></pre>ç„¶åæ˜¯task.json<pre><code class="hljs json">&#123;    <span class="hljs-attr">&quot;tasks&quot;</span>: [        &#123;            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;shell&quot;</span>,            <span class="hljs-attr">&quot;label&quot;</span>: <span class="hljs-string">&quot;C/C++: g++ build active file&quot;</span>,            <span class="hljs-attr">&quot;command&quot;</span>: <span class="hljs-string">&quot;/usr/bin/g++&quot;</span>,            <span class="hljs-attr">&quot;args&quot;</span>: [                <span class="hljs-string">&quot;-g&quot;</span>,                <span class="hljs-string">&quot;$&#123;file&#125;&quot;</span>,                <span class="hljs-string">&quot;-o&quot;</span>,                <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span>            ],            <span class="hljs-attr">&quot;options&quot;</span>: &#123;                <span class="hljs-attr">&quot;cwd&quot;</span>: <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span>            &#125;,            <span class="hljs-attr">&quot;problemMatcher&quot;</span>: [                <span class="hljs-string">&quot;$gcc&quot;</span>            ],            <span class="hljs-attr">&quot;group&quot;</span>: &#123;                <span class="hljs-attr">&quot;kind&quot;</span>: <span class="hljs-string">&quot;build&quot;</span>,                <span class="hljs-attr">&quot;isDefault&quot;</span>: <span class="hljs-literal">true</span>            &#125;        &#125;    ],    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;2.0.0&quot;</span>&#125;</code></pre>ã€€ã€€è¿™ä¸ªå°±ä¸ç®¡ä»–gdbçš„ä½ç½®äº†ï¼Œåæ­£éƒ½æ˜¯é”™ä¸äº†çš„ã€‚åº”è¯¥å§â€¦â€¦## æ’ä»¶æ‹“å±•<font size="3"> ã€€æ’ä»¶å•Šï¼Œçœ‹å¾—è§å·¦ä¾§é‚£ä¸ªå°ç©æ„ä¸</font><center>ä¸å‡ºæ„å¤–çš„è¯ç‚¹å‡»å·¦ä¾§å·¥å…·æ æœ€åº•ä¸‹çš„é‚£ä¸ªåƒå¾®è½¯å¾½æ ‡çš„å››ä¸ªâ€œå°æ¡†æ¡†â€å°±æ˜¯äº†ã€‚</center>  *ä»¥ä¸‹æ’ä»¶ä»…æ˜¯æˆ‘ä¸ªäººæ¨è*### ã€€1.C++ Intelligence<center><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcToK7QWvWNkTKH_PBsAqnWcOib9eOUenJhMwQ&usqp=CAU"><font size="4">ã€€ã€€æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¸ªå›¾æ ‡çš„ç©æ„ã€‚å¦‚æœæ˜¯å­¦ä¹ é…ç½®C++çš„è¯ï¼Œè¿™ä¸ªå³ä¾¿ä½ ä¸å»æ‰¾ï¼Œvscodeä¹Ÿä¼šè‡ªåŠ¨ä¸ºä½ æ¨èè¿™ä¸ªæ’ä»¶ã€‚é€šå¸¸æ¥è¯´ä¸ç”¨æ…Œæ‰¾ä¸åˆ°ã€‚</font>  <font size="0">  ã€€ã€€*~~å…¶å®ä½œè€…è‡ªå·±ä¹Ÿæ²¡æœ‰ä»€ä¹ˆä½¿ç”¨æ„Ÿå—ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨~~* ï¼ˆè¯¯ï¼‰</font></center>### ã€€2.Chinese (Simplified)ã€€ã€€æˆ‘ç›¸ä¿¡ä¸€å¼€å§‹æ‰“å¼€Vscodeçš„åŒå­¦éƒ½æ˜¯å´©æºƒçš„ï¼Œç‰¹åˆ«æ˜¯è‹±è¯­æ°´å¹³ä¸æ€ä¹ˆæ ·çš„ã€‚é‚£ä¹ˆè¿™ä¸ªæ’ä»¶å°±æ˜¯æ•‘æ˜Ÿã€‚<center>  <img src='https://ae04.alicdn.com/kf/H9b29c9f660f44b11a77406cc21a40363t.jpg'></center>ã€€ã€€å®‰è£…å¥½äº†ä»¥åï¼Œé‡å¯ä¸€ä¸‹VsCodeå°±å®Œæˆäº†### ã€€3.GBK To UTF8  ã€€ã€€å¦‚æœåœ¨c++æ–‡ä»¶ä¸­æœ‰ä¸­æ–‡å­—ç¬¦ï¼Œä½ å¯èƒ½ä¼šçœ‹è§ä¿å­˜ä¹‹å‰æ‰€æœ‰ä¸­æ–‡å­—ç¬¦çš„åœ°æ–¹å˜æˆä¹±ç äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ä»–æ¥æ•‘é©¾ã€‚å½“ç„¶åè¿‡æ¥çš„è®¾è®¡ä¼¼ä¹è¿˜æ²¡æœ‰ï¼Œè¦æ˜¯æƒ³è¦èƒ½å¤Ÿåœ¨CMDä¸­æ­£ç¡®è¾“å‡ºï¼Œå»ºè®®å†æ‰“ç å¼€å§‹ä¹‹å‰å°±æ˜¯ä¿®æ”¹å­—ç¬¦ç¼–ç æ–¹å¼ä¸ºâ€œGBKâ€### ã€€4.vscode-iconsã€€ã€€æ²¡å•¥ï¼Œå°±æ˜¯æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨çš„å›¾æ ‡åŒ…ï¼Œå…¶å®æ˜¯æŒºå¥½çœ‹çš„ã€‚å…·ä½“çš„ä½¿ç”¨æ–¹æ³•åœ¨å…¶å®˜ç½‘å’Œä¸Šå·²ç»å†™çš„éå¸¸æ¸…æ¥šäº†ï¼Œç‚¹å‡»[è¿™é‡Œ](https://marketplace.visualstudio.com/items?itemName=vscode-icons-team.vscode-icons)å‰å¾€### ã€€5.C/C++ GUN globalã€€ã€€æå‡ä½ ä»£ç æ•ˆç‡çš„å¥½å¸®æ‰‹ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°å‡½æ•°ã€å˜é‡çš„å£°æ˜åŒºã€‚åŒæ—¶åœ¨æ‰“ç çš„æ—¶å€™è¿˜å¯ä»¥è‡ªåŠ¨æç¤ºå½“å‰ç±»æœ‰ä»€ä¹ˆæˆå‘˜å‡½æ•°ã€æˆå‘˜å˜é‡ã€‚[è¿™é‡Œ](https://marketplace.visualstudio.com/items?itemName=jaycetyle.vscode-gnu-global)æ˜¯å…³äºå®ƒçš„è¯¦ç»†è¯´æ˜ã€‚<font size='0'><center>å›¾å…ˆæ¬ ç€</center></font><h3 id="6-GlassIt-VSC"><a href="#6-GlassIt-VSC" class="headerlink" title="ã€€6.GlassIt-VSC"></a>ã€€6.GlassIt-VSC</h3><p>ã€€ã€€è®©ä½ çš„vscodeé€æ˜ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç¾åŒ–æ’ä»¶å•¦ï¼Œè¦æ³¨æ„ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å®‰è£…å¥½äº†ä¹‹åï¼Œvscodeä¼šä¸€ç›´æé†’ä½ è½¯ä»¶æŸåï¼Œéœ€è¦é‡æ–°å®‰è£…ï¼Œå…¶å®æ˜¯æ²¡æ¯›ç—…çš„ï¼Œä¸è¦æ…Œã€‚è¿™æ˜¯ä¸ºäº†ç¾åŒ–ï¼ˆæŠ˜è…¾ï¼‰å¿…é¡»è¦ç»å†çš„äº‹æƒ…ã€‚vscodeå‡çº§ä¹‹åç¾åŒ–ä¼šç»§ç»­å­˜åœ¨ï¼Œæç¤ºä¹Ÿä¼šæ¶ˆå¤±ï¼Œæ’ä»¶ä¹Ÿä¼šä¸è§ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ã€‚</p><p>  è¡¥å……ä¸€ä¸ªé“¾æ¥ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=s-nlf-fh.glassit">åœ¨è¿™é‡Œï¼Œä¸ç”¨æ‰¾äº†</a>ï¼Œæœ€å¥½çš„æ–¹æ³•å½“ç„¶æ˜¯åœ¨Vscodeä¸­æ‰¾ï¼Œèƒ½å¤Ÿç›´æ¥å®‰è£…ä¸Šå»ï¼Œå‡å°‘debugæ—¶é—´ã€‚</p><h3 id="7-background"><a href="#7-background" class="headerlink" title="ã€€7.background"></a>ã€€7.background</h3><p>ã€€ã€€è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›¾ï¼Œéƒ½æ˜¯<a href="https://marketplace.visualstudio.com/items?itemName=shalldie.background">è€äºŒåˆºèˆ</a>äº†<br>  <center><img src='https://user-images.githubusercontent.com/9987486/40583705-7105dda8-61c6-11e8-935a-3c5d475a1eb1.gif'></center></p><h2 id="æŒ–å‘"><a href="#æŒ–å‘" class="headerlink" title="æŒ–å‘"></a>æŒ–å‘</h2><p>ã€€ã€€VsCodeçš„æ›´é«˜é˜¶ç”¨æ³•åº”è¯¥è¿˜æ˜¯åœ¨linuxä¸Šï¼ŒWindows10ä¸ºæˆ‘ä»¬æä¾›äº†å¥½ç”¨çš„WSLå­ç³»ç»Ÿï¼ŒVsCodeä¸ŠåŒæ ·ä¹Ÿæœ‰åˆé€‚çš„æ’ä»¶å¯ç”¨å®ƒã€‚ä¸è¿‡å› ä¸ºå„ç§ä¸å¯æŠ—åŠ›çš„åŸå› é˜»æŒ¡ï¼Œåœ¨windows10ä¸Šè¡¨ç°è‰¯å¥½çš„VsCodeåœ¨WSLä¸Šååˆ†æ‹‰èƒ¯ï¼Œæ¯”å¦‚è¾“å…¥ä¸€è¡Œçš„è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ€»æ˜¯æ¯”windowsç³»ç»Ÿä¸Šæ…¢ï¼ŒåŒæ ·çš„ä»£ç è¡¥å…¨æœºåˆ¶ï¼Œåœ¨WSLä¸ŠC/C++ GUN globalæ€»æ˜¯ä¼šä¸èƒ½å¤Ÿæ­£å¸¸çš„è¿è¡Œã€‚è¿˜æ˜¯å¸Œæœ›æœ‰é«˜äººå·²ç»è§£å†³ï¼Œèƒ½æäº¤ä¸€ç¯‡è§£å†³çš„æ–‡ç« æœ€å¥½äº†ã€‚</p><center><font size='0'>*~~è¿™ä¸ªå‘ä»€ä¹ˆæ—¶å€™å¡«æˆ‘ä¹Ÿä¸çŸ¥é“~~*(ä¸æ˜¯)  æœ€åæ›´æ–°æ—¶é—´ï¼š2020å¹´11æœˆ16æ—¥19:01:12</font></center>]]></content>
    
    
    
    <tags>
      
      <tag>help</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/peachskin/2020/10/01/hello-world/"/>
    <url>/peachskin/2020/10/01/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h2><h3 id="å»ºç«‹æ–°çš„åšå®¢é¡µ"><a href="#å»ºç«‹æ–°çš„åšå®¢é¡µ" class="headerlink" title="å»ºç«‹æ–°çš„åšå®¢é¡µ"></a>å»ºç«‹æ–°çš„åšå®¢é¡µ</h3><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="åœ¨æœ¬åœ°æŸ¥çœ‹è¿è¡Œæ•ˆæœ"><a href="#åœ¨æœ¬åœ°æŸ¥çœ‹è¿è¡Œæ•ˆæœ" class="headerlink" title="åœ¨æœ¬åœ°æŸ¥çœ‹è¿è¡Œæ•ˆæœ"></a>åœ¨æœ¬åœ°æŸ¥çœ‹è¿è¡Œæ•ˆæœ</h3><pre><code class="hljs bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="ç”Ÿæˆé™æ€æ–‡ä»¶"><a href="#ç”Ÿæˆé™æ€æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆé™æ€æ–‡ä»¶"></a>ç”Ÿæˆé™æ€æ–‡ä»¶</h3><pre><code class="hljs bash">$ hexo generate$ sudo rm -rf ~/*</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="éƒ¨ç½²ä¸Šå»"><a href="#éƒ¨ç½²ä¸Šå»" class="headerlink" title="éƒ¨ç½²ä¸Šå»"></a>éƒ¨ç½²ä¸Šå»</h3><pre><code class="hljs bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h3 id="æˆ‘çš„å‚è€ƒèµ„æ–™"><a href="#æˆ‘çš„å‚è€ƒèµ„æ–™" class="headerlink" title="æˆ‘çš„å‚è€ƒèµ„æ–™"></a>æˆ‘çš„å‚è€ƒèµ„æ–™</h3><p>From info: <a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/">Here</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>just soso</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
